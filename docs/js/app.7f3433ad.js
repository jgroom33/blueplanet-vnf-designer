(function(e){function n(n){for(var r,a,s=n[0],l=n[1],c=n[2],m=0,d=[];m<s.length;m++)a=s[m],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&d.push(i[a][0]),i[a]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);u&&u(n);while(d.length)d.shift()();return o.push.apply(o,c||[]),t()}function t(){for(var e,n=0;n<o.length;n++){for(var t=o[n],r=!0,s=1;s<t.length;s++){var l=t[s];0!==i[l]&&(r=!1)}r&&(o.splice(n--,1),e=a(a.s=t[0]))}return e}var r={},i={app:0},o=[];function a(n){if(r[n])return r[n].exports;var t=r[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,a),t.l=!0,t.exports}a.m=e,a.c=r,a.d=function(e,n,t){a.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,n){if(1&n&&(e=a(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(a.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)a.d(t,r,function(n){return e[n]}.bind(null,r));return t},a.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(n,"a",n),n},a.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},a.p="/vnf-designer/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=n,s=s.slice();for(var c=0;c<s.length;c++)n(s[c]);var u=l;o.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("56d7")},1:function(e,n){},2:function(e,n){},"56d7":function(e,n,t){"use strict";t.r(n);var r=t("2b0e"),i=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},o=[],a={name:"App"},s=a,l=t("2877"),c=Object(l["a"])(s,i,o,!1,null,null,null),u=c.exports,m=t("8c4f"),d=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[t("appheader",{attrs:{model:e.model,view:e.view,misc:e.misc}}),t("appnavigation",{attrs:{model:e.model,view:e.view}}),t("appdetail",{attrs:{model:e.model,current:e.current,view:e.view,templates:e.templates}}),""!==e.view.modal?t("modal",{attrs:{view:e.view}}):e._e()],1)},p=[],v=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{class:e.view.mode,attrs:{id:"appheader"}},[e._m(0),t("div",{staticClass:"label",attrs:{id:"apptitle"}},[e._v(e._s(e.title))]),t("div",{staticClass:"buttons",attrs:{id:"appbuttons"}},[t("div",{attrs:{title:"Tenant overview"},on:{click:function(n){return e.context("Tenant")}}},[t("i",{staticClass:"fas fa-map"}),e._v(" Overview\n    ")]),t("div",{attrs:{title:"Reset model"},on:{click:e.reset}},[t("i",{staticClass:"fas fa-certificate"}),e._v(" Reset\n    ")]),t("div",{attrs:{title:"Validate model"},on:{click:e.validate}},[t("i",{staticClass:"fas fa-check-circle"}),e._v(" Validate\n    ")]),t("div",{attrs:{title:"Import model"},on:{click:function(n){return e.context("Import")}}},[t("i",{staticClass:"fas fa-arrow-alt-circle-down"}),e._v(" Import\n    ")]),t("div",{attrs:{title:"Export model"},on:{click:function(n){return e.context("Export")}}},[t("i",{staticClass:"fas fa-arrow-alt-circle-up"}),e._v(" Export\n    ")]),""!=e.window.location.hostname?t("div",{attrs:{title:"Documentation"},on:{click:function(n){return e.context("Docs")}}},[t("i",{staticClass:"fas fa-book"}),e._v(" Docs\n    ")]):e._e()]),t("div",{staticClass:"tabs",attrs:{id:"apptabs"}},["Tenant"===e.view.navigation?[t("div",{staticClass:"active"},[e._v("General")]),t("div",{on:{click:function(n){return e.context("Flavor")}}},[e._v("Flavors")]),t("div",{on:{click:function(n){return e.context("Image")}}},[e._v("Images")]),t("div",{on:{click:function(n){return e.context("Network")}}},[e._v("Networks")]),t("div",{on:{click:function(n){return e.context("Component")}}},[e._v("VNFd's")])]:e._e(),"Image"===e.view.navigation?[t("div",{on:{click:function(n){return e.context("Tenant")}}},[e._v("General")]),t("div",{on:{click:function(n){return e.context("Flavor")}}},[e._v("Flavors")]),t("div",{staticClass:"active"},[e._v("Images")]),t("div",{on:{click:function(n){return e.context("Network")}}},[e._v("Networks")]),t("div",{on:{click:function(n){return e.context("Component")}}},[e._v("VNFd's")])]:e._e(),"Flavor"===e.view.navigation?[t("div",{on:{click:function(n){return e.context("Tenant")}}},[e._v("General")]),t("div",{staticClass:"active"},[e._v("Flavors")]),t("div",{on:{click:function(n){return e.context("Image")}}},[e._v("Images")]),t("div",{on:{click:function(n){return e.context("Network")}}},[e._v("Networks")]),t("div",{on:{click:function(n){return e.context("Component")}}},[e._v("VNFd's")])]:e._e(),"Network"===e.view.navigation?[t("div",{on:{click:function(n){return e.context("Tenant")}}},[e._v("General")]),t("div",{on:{click:function(n){return e.context("Flavor")}}},[e._v("Flavors")]),t("div",{on:{click:function(n){return e.context("Image")}}},[e._v("Images")]),t("div",{staticClass:"active"},[e._v("Networks")]),t("div",{on:{click:function(n){return e.context("Component")}}},[e._v("VNFd's")])]:e._e(),"Component"===e.view.navigation?[t("div",{on:{click:function(n){return e.context("Tenant")}}},[e._v("General")]),t("div",{on:{click:function(n){return e.context("Flavor")}}},[e._v("Flavors")]),t("div",{on:{click:function(n){return e.context("Image")}}},[e._v("Images")]),t("div",{on:{click:function(n){return e.context("Network")}}},[e._v("Networks")]),t("div",{staticClass:"active"},[e._v("VNFd's")])]:e._e()],2)])},f=[function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"logo"},[t("i",{staticClass:"fas fa-cloud"}),e._v(" VNF Designer")])}],h=t("783b"),w=t.n(h),g={title:"VNF Desciptor",description:"A simple VNF descriptor",type:"object",required:["schema","vnf","version","tenant","flavors","images","networks","components"],properties:{schema:{type:"string",enum:["1.0.1"],description:"The version of the schema"},vnf:{type:"string",minLength:1,description:"The unique identifier for a virtual network function"},version:{type:"string",pattern:"^\\d+\\.\\d+.\\d+$",description:"Semantic version of the VNF descriptor"},tenant:{description:"The tenant information",type:"object",required:["name","auth"],properties:{name:{type:"string",description:"name of the tenant"},auth:{description:"The authentication information",type:"object",required:["username","password","url"],properties:{username:{type:"string",description:"username for accessing the API"},password:{type:"string",description:"password for accessing the API"},url:{type:"string",description:"url for the API"}}}}},flavors:{description:"The sizing of virtual servers",type:"array",items:{title:"Flavor",type:"object",required:["uuid","name","vcpu","ram","disk","public","special"],properties:{uuid:{type:"string",description:"Unique identifier of the flavor"},name:{type:"string",description:"Name of the flavor"},vcpu:{type:"number",description:"Number of virtual core processing units as string"},ram:{type:"number",description:"Size of memory in megabytes as string"},disk:{type:"number",description:"Size of local disk in gigabytes as string"},public:{type:"string",enum:["true","false"],description:"Image is a predefined public image"},special:{description:"Additional special attributes",type:"array",items:{type:"object",description:"Key-value pair",required:["key","value"],properties:{key:{type:"string",description:"Attribute name"},value:{type:"string",description:"Attribute value"}}}}}}},images:{description:"The operating systems for virtual servers",type:"array",items:{title:"Image",type:"object",required:["uuid","name","disk","container"],properties:{uuid:{type:"string",description:"Unique identifier of the image"},name:{type:"string",description:"Name of the image"},version:{type:"string",description:"Version of the image"},format:{type:"string",enum:["aki","ami","ari","iso","qcow2","raw","vdi","vhd","vhdx","vmdk"],description:"Disk format of the image"},container:{type:"string",enum:["aki","ami","ari","bare","docker","ova","ovf"],description:"Container format of the image"},disk:{type:"string",description:"Minimum disk requirements"},size:{type:"string",description:"Size of the image"},checksum:{type:"string",description:"Checksum of the image"},url:{type:"string",description:"URL for the image"},special:{type:"string",description:"Additional special attributes"}}}},networks:{description:"The virtual networks",type:"array",items:{title:"Network",type:"object",required:["uuid","ipv4","ipv4gw","ipv4start","ipv4end","ipv6","ipv6gw","ipv6start","ipv6end","route","import","export","special"],properties:{uuid:{type:"string",description:"Unique identifier of the virtual network"},name:{type:"string",description:"Name of the virtual network"},ipv4:{type:"string",description:"IPv4 CIDR of the virtual network"},ipv4gw:{type:"string",description:"IPv4 gateway of the virtual network"},ipv4start:{type:"string",description:"IPv4 start address of the virtual network"},ipv4end:{type:"string",description:"IPv4 end address of the virtual network"},ipv6:{type:"string",description:"IPv6 attributes of the virtual network"},ipv6gw:{type:"string",description:"IPv6 gateway of the virtual network"},ipv6start:{type:"string",description:"IPv6 start address of the virtual network"},ipv6end:{type:"string",description:"IPv6 end address of the virtual network"},route:{type:"string",description:"Comma seperated list of route targets"},export:{type:"string",description:"Comma seperated list of export targets"},import:{type:"string",description:"Comma seperated list of import targets"},special:{type:"string",description:"Additional special attributes"}}}},components:{description:"The virtual servers",type:"array",items:{title:"Component",type:"object",required:["uuid","name","placement","flavor","image","min","size","max","interfaces","volumes","services","dependencies","userdata"],properties:{uuid:{type:"string",description:"Unique identifier of the virtual server"},name:{type:"string",description:"Name of the virtual server"},user:{type:"string",description:"Name of the user account"},placement:{type:"string",enum:["OTHER","EXT","INT","MGMT","ROUTER"],description:"Placement of the virtual server or type of component"},flavor:{type:"string",description:"Name of the virtual server sizing"},image:{type:"string",description:"Name of the operating system"},min:{type:"number",description:"Minimum size of the cluster"},size:{type:"number",description:"Default size of the cluster"},max:{type:"number",description:"Maximum size of the cluster"},userdata:{type:"string",description:"Initialisation script"},interfaces:{description:"The interfaces to virtual networks",type:"array",items:{title:"Component Interface",type:"object",required:["network","attributes"],properties:{network:{type:"string",description:"Name of the virtual network"},attributes:{type:"string",description:"Additional special attributes"}}}},volumes:{description:"The attached virtual block storage",type:"array",items:{title:"Component Volume",type:"object",required:["name","size","type","attributes"],properties:{name:{type:"string",description:"Name of the virtual network"},size:{type:"number",description:"Size of the block storage in gigabyte"},type:{type:"string",enum:["EXT","INT"],description:"Name of block storage pool"},attributes:{type:"string",description:"Additional special attributes"}}}},services:{description:"The exposed services",type:"array",items:{title:"Component Service",type:"object",required:["name","network","protocol","range"],properties:{name:{type:"string",description:"Name of the service"},network:{type:"string",description:"The virtual network via which the service is exposed"},protocol:{type:"string",enum:["tcp","udp","icmp","sctp","any","none"],description:"The service protocol"},range:{type:"string",minimum:1,description:"Port range"}}}},dependencies:{description:"The dependencies to services provided by other componennts",type:"array",items:{title:"Component Network",type:"object",required:["component","service","network"],properties:{component:{type:"string",description:"Name of the other component"},service:{type:"string",description:"The name of the service provided by the other component"},network:{type:"string",description:"The virtual network via which the service is consumed"}}}}}}}},validate_schema:function(e){var n=new w.a,t=n.compile(g),r=t(e);return r?"":(setFocus(t.errors[0].dataPath),"Schema error:\nfield "+t.errors[0].message+"\nLocation: "+t.errors[0].dataPath)},validate_xref:function(e){var n=e.flavors.map((function(e){return e.name})),t=e.images.map((function(e){return e.name})),r=e.networks.map((function(e){return e.name})),i=e.components.map((function(e){return e.name})),o=[],a=!0,s=!1,l=void 0;try{for(var c,u=e.components[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var m=c.value,d=!0,p=!1,v=void 0;try{for(var f,h=m.services[Symbol.iterator]();!(d=(f=h.next()).done);d=!0){var w=f.value;o.push(m.name+":"+w.name)}}catch(C){p=!0,v=C}finally{try{d||null==h.return||h.return()}finally{if(p)throw v}}}}catch(C){s=!0,l=C}finally{try{a||null==u.return||u.return()}finally{if(s)throw l}}for(var g=0;g<e.components.length;g++){if(m=e.components[g],!n.includes(m.flavor))return setFocus(".components["+g+"].flavor"),"Reference error:\ninvalid flavor .components["+g+"].flavor";if(!t.includes(m.image))return setFocus(".components["+g+"].image"),"Reference error:\ninvalid image .components["+g+"].image";for(var _=[],k=0;k<m.interfaces.length;k++){var b=m.interfaces[k];if(_.push(b.network),!r.includes(b.network))return setFocus(".components["+g+"].interfaces["+k+"].network"),"Reference error\ninvalid network .components["+g+"].interfaces["+k+"].network"}for(k=0;k<m.services.length;k++)if(w=m.services[k],!_.includes(w.network))return setFocus(".components["+g+"].services["+k+"].network"),"Reference error\ninvalid network .components["+g+"].services["+k+"].network";for(k=0;k<m.dependencies.length;k++){var y=m.dependencies[k];if(!i.includes(y.component))return setFocus(".components["+g+"].dependencies["+k+"].component"),"Reference error\ninvalid component .components["+g+"].dependencies["+k+"].component";if(!_.includes(y.network))return setFocus(".components["+g+"].dependencies["+k+"].network"),"Reference error\ninvalid network .components["+g+"].dependencies["+k+"].component";var x=y.component+":"+y.service;if(!o.includes(x))return setFocus(".components["+g+"].dependencies["+k+"].service"),"Reference error\ninvalid service .components["+g+"].dependencies["+k+"].service"}}return""}},_=g,k={name:"appheader",props:["model","view","misc"],computed:{title:function(){return this.model.current.vnf+" ("+this.model.current.version+")"}},methods:{context:function(e){this.view.setContext(e);var n=document.getElementById("appdetail");n.style.left=null;var t=document.getElementById("apptabs");switch(t.style.display=null,this.view.detail="Tenant",e){case"Import":this.view.detail="Import";break;case"Export":this.view.detail="Export";break;case"Docs":var r=window.open("/docs/index.html","_blank");r.focus();break;default:}},validate:function(){var e=JSON.parse(JSON.stringify(this.model.current)),n=_.validate_schema(e);""==n?(n=_.validate_xref(e),this.view.modal=""==n?"No Validation Errors":n):this.view.modal=n},reset:function(){var e=JSON.parse(JSON.stringify(this.misc.emptyModel()));this.view.mode="current",this.model.setModel(e),this.view.setContext("Tenant"),this.$forceUpdate()}}},b=k,y=Object(l["a"])(b,v,f,!1,null,null,null),x=y.exports,C=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"appnavigation"}},["Tenant"===e.view.navigation?t("tenantform",{attrs:{model:e.model,view:e.view}}):e._e(),"Flavor"===e.view.navigation?t("flavors",{attrs:{model:e.model,view:e.view}}):e._e(),"Image"===e.view.navigation?t("images",{attrs:{model:e.model,view:e.view}}):e._e(),"Network"===e.view.navigation?t("networks",{attrs:{model:e.model,view:e.view}}):e._e(),"Component"===e.view.navigation?t("components",{attrs:{model:e.model,view:e.view}}):e._e()],1)},T=[],O=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"list"},e._l(e.model.current.flavors,(function(n){return t("flavoritem",{key:n.uuid,attrs:{model:e.model,view:e.view,flavor:n}})})),1)},P=[],$=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"item"},[t("div",{staticClass:"name",on:{click:function(n){return e.pick(e.flavor)}}},[t("i",{staticClass:"fas fa-microchip"}),e._v(" "+e._s(e.flavor.name)+"\n  ")]),t("div",{staticClass:"button",on:{click:function(n){return e.del(e.flavor)}}},[t("i",{staticClass:"fas fa-minus"})])])},I=[],N={name:"flavoritem",props:["model","view","flavor"],methods:{pick:function(e){this.view.detail="Flavor",this.view.entity=e},del:function(e){this.model.deleteFlavor(e),"Flavor"===this.view.detail&&(this.view.detail="",this.view.entity=null)}}},R=N,E=Object(l["a"])(R,$,I,!1,null,null,null),S=E.exports,F={props:["model","view"],components:{flavoritem:S}},H=F,A=Object(l["a"])(H,O,P,!1,null,null,null),D=A.exports,z=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"tenantform"}},[t("div",{staticClass:"header"},[e._v("Tenant: "+e._s(e.model.current.name))]),t("div",{staticClass:"line"},[t("label",{attrs:{for:"name"}},[e._v("Network Service:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.model.current.vnf,expression:"model.current.vnf"}],attrs:{id:"vnf",name:"vnf",required:""},domProps:{value:e.model.current.vnf},on:{input:function(n){n.target.composing||e.$set(e.model.current,"vnf",n.target.value)}}})]),t("div",{staticClass:"line"},[t("label",{attrs:{for:"version"}},[e._v("Version:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.model.current.version,expression:"model.current.version"}],attrs:{id:"version",name:"version",required:""},domProps:{value:e.model.current.version},on:{input:function(n){n.target.composing||e.$set(e.model.current,"version",n.target.value)}}})]),t("hr"),t("div",{staticClass:"line"},[t("label",{attrs:{for:"tenant"}},[e._v("Tenant:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.model.current.tenant.name,expression:"model.current.tenant.name"}],attrs:{id:"tenant_name",name:"tenant_name",required:""},domProps:{value:e.model.current.tenant.name},on:{input:function(n){n.target.composing||e.$set(e.model.current.tenant,"name",n.target.value)}}})]),t("div",{staticClass:"line"},[t("label",{attrs:{for:"tenant_auth_username"}},[e._v("Username:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.model.current.tenant.auth.username,expression:"model.current.tenant.auth.username"}],attrs:{id:"tenant_auth_username",name:"tenant_auth_username",required:""},domProps:{value:e.model.current.tenant.auth.username},on:{input:function(n){n.target.composing||e.$set(e.model.current.tenant.auth,"username",n.target.value)}}})]),t("div",{staticClass:"line"},[t("label",{attrs:{for:"tenant_auth_password"}},[e._v("Password:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.model.current.tenant.auth.password,expression:"model.current.tenant.auth.password"}],attrs:{id:"tenant_auth_password",name:"tenant_auth_password",required:""},domProps:{value:e.model.current.tenant.auth.password},on:{input:function(n){n.target.composing||e.$set(e.model.current.tenant.auth,"password",n.target.value)}}})]),t("div",{staticClass:"line"},[t("label",{attrs:{for:"tenant_auth_url"}},[e._v("URL:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.model.current.tenant.auth.url,expression:"model.current.tenant.auth.url"}],attrs:{id:"tenant_auth_url",name:"tenant_auth_url",required:""},domProps:{value:e.model.current.tenant.auth.url},on:{input:function(n){n.target.composing||e.$set(e.model.current.tenant.auth,"url",n.target.value)}}})])])},q=[],U={name:"tenantform",props:["model","view"]},M=U,j=Object(l["a"])(M,z,q,!1,null,null,null),V=j.exports,G=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"list"},e._l(e.model.current.images,(function(n){return t("imageitem",{key:n.uuid,attrs:{model:e.model,view:e.view,image:n}})})),1)},L=[],B=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"item"},[t("div",{staticClass:"name",on:{click:function(n){return e.pick(e.image)}}},[t("i",{staticClass:"fas fa-hockey-puck"}),e._v(" "+e._s(e.image.name)+"\n  ")]),t("div",{staticClass:"button",on:{click:function(n){return e.del(e.image)}}},[t("i",{staticClass:"fas fa-minus"})])])},X=[],Y={name:"imageitem",props:["model","view","image"],methods:{pick:function(e){this.view.detail="Image",this.view.entity=e},del:function(e){this.model.deleteImage(e),"Image"===this.view.detail&&(this.view.detail="",this.view.entity=null)}}},W=Y,J=Object(l["a"])(W,B,X,!1,null,null,null),K=J.exports,Q={name:"images",props:["model","view"],components:{imageitem:K}},Z=Q,ee=Object(l["a"])(Z,G,L,!1,null,null,null),ne=ee.exports,te=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"list"},e._l(e.model.current.networks,(function(n){return t("networkitem",{key:n.uuid,attrs:{model:e.model,view:e.view,network:n}})})),1)},re=[],ie=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"item"},[t("div",{staticClass:"name",on:{click:function(n){return e.pick(e.network)}}},[t("i",{staticClass:"fas fa-cloud"}),e._v(" "+e._s(e.network.name)+"\n  ")]),t("div",{staticClass:"button",on:{click:function(n){return e.del(e.network)}}},[t("i",{staticClass:"fas fa-minus"})])])},oe=[],ae={name:"networkitem",props:["model","view","network"],methods:{pick:function(e){this.view.detail="Network",this.view.entity=e},del:function(e){this.model.deleteNetwork(e),"Network"===this.view.detail&&(this.view.detail="",this.view.entity=null)}}},se=ae,le=Object(l["a"])(se,ie,oe,!1,null,null,null),ce=le.exports,ue={name:"networks",props:["model","view"],components:{networkitem:ce}},me=ue,de=Object(l["a"])(me,te,re,!1,null,null,null),pe=de.exports,ve=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"list"},e._l(e.model.current.components,(function(n){return t("componentitem",{key:n.uuid,attrs:{model:e.model,view:e.view,component:n}})})),1)},fe=[],he=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"item"},[t("div",{staticClass:"name",on:{click:function(n){return e.pick(e.component)}}},[t("i",{staticClass:"fas fa-server"}),e._v(" "+e._s(e.component.name)+"\n  ")]),t("div",{staticClass:"button",on:{click:function(n){return e.del(e.component)}}},[t("i",{staticClass:"fas fa-minus"})])])},we=[],ge={name:"componentitem",props:["model","view","component"],methods:{pick:function(e){this.view.detail="Component",this.view.entity=e},del:function(e){this.model.deleteComponent(e),"Component"===this.view.detail&&(this.view.detail="",this.view.entity=null)}}},_e=ge,ke=Object(l["a"])(_e,he,we,!1,null,null,null),be=ke.exports,ye={name:"components",props:["model","view"],components:{componentitem:be}},xe=ye,Ce=Object(l["a"])(xe,ve,fe,!1,null,null,null),Te=Ce.exports,Oe={name:"appnavigation",props:["model","view"],components:{flavors:D,tenantform:V,images:ne,networks:pe,components:Te}},Pe=Oe,$e=Object(l["a"])(Pe,C,T,!1,null,null,null),Ie=$e.exports,Ne=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"appdetail"}},["Flavor"===e.view.detail?t("flavorform",{attrs:{model:e.model,view:e.view,flavor:e.view.entity}}):e._e(),"Image"===e.view.detail?t("imageform",{attrs:{model:e.model,view:e.view,image:e.view.entity}}):e._e(),"Network"===e.view.detail?t("networkform",{attrs:{model:e.model,view:e.view,network:e.view.entity}}):e._e(),"Component"===e.view.detail?t("componentform",{attrs:{model:e.model,component:e.view.entity}}):e._e(),"Export"===e.view.detail?t("exportform",{attrs:{model:e.model,view:e.view,templates:e.templates}}):e._e(),"Import"===e.view.detail?t("importform",{attrs:{model:e.model,view:e.view}}):e._e(),"Tenant"===e.view.detail?t("tenant",{attrs:{model:e.model,view:e.view}}):e._e()],1)},Re=[],Ee=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"tenant_layout"},on:{click:e.handleClick}},[t("div",{staticClass:"vnf"},[e._v("Network Service: "+e._s(e.model.current.vnf))]),t("div",{staticClass:"tenant"},[e._v("Tenant: "+e._s(e.model.current.tenant.name))]),t("div",{staticClass:"version"},[e._v("Version: "+e._s(e.model.current.version))]),t("div",{staticClass:"date"},[e._v("Timestamp: "+e._s(e.view.now))]),e._l(e.model.current.networks,(function(n,r){return t("tenant_network",{key:"network-"+r,attrs:{model:e.model,view:e.view,network:n,index:r}})})),t("tenant_network2",{key:"network-dummy",attrs:{model:e.model,view:e.view}}),e._l(e.model.current.components,(function(n,r){return t("tenant_component",{key:"component-"+r,attrs:{model:e.model,view:e.view,component:n,index:r}})})),t("tenant_component2",{key:"component-dummy",attrs:{model:e.model,view:e.view}})],2)},Se=[],Fe=8,He=8,Ae=48,De=64,ze=200,qe=32,Ue=16,Me=16,je=Fe+ze,Ve=He+De,Ge=Fe+Ae,Le=He+qe,Be=320,Xe=56,Ye={DX:Fe,DY:He,NET_WIDTH:Ae,NET_HEIGHT:De,CMP_WIDTH:ze,CMP_HEIGHT:qe,CMP_HEIGHT2:Ue,TXT_HEIGHT:Me,XOFFSET:je,YOFFSET:Ve,XSLOT:Ge,YSLOT:Le,PXOFFSET:Be,PYOFFSET:Xe},We=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{class:"network network"+e.index,style:{top:e.t+"px",left:e.l+"px",width:e.w+"px",height:e.h+"px"}},[t("div",{staticClass:"icon",attrs:{title:e.network.name+"\\nipv4: "+e.network.ipv4+"\\nipv6: "+e.network.ipv6},on:{click:e.viewNetwork}},[t("i",{staticClass:"fas fa-network-wired"})]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.network.name,expression:"network.name"}],domProps:{value:e.network.name},on:{change:e.handleChange,input:function(n){n.target.composing||e.$set(e.network,"name",n.target.value)}}})])},Je=[],Ke={name:"tenant_network",props:["model","view","network","index"],methods:{handleChange:function(e){""===e.target.value&&this.model.deleteNetwork(this.network)},viewNetwork:function(e){return this.view.navigation="Network",this.view.detail="Network",this.view.entity=this.network,!1}},computed:{t:function(e){return Ye.NET_HEIGHT},l:function(e){return Ye.CMP_WIDTH+(this.index+1)*(Ye.DX+Ye.NET_WIDTH)-1},w:function(e){return Ye.NET_WIDTH},h:function(e){return Ye.DY+this.model.current.components.length*(Ye.DY+Ye.CMP_HEIGHT)}}},Qe=Ke,Ze=Object(l["a"])(Qe,We,Je,!1,null,null,null),en=Ze.exports,nn=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"network dummy",style:{top:e.t+"px",left:e.l+"px",width:e.w+"px",height:e.h+"px"},on:{click:e.handleClick}},[e._m(0),t("input",{staticClass:"label",attrs:{value:"new",readonly:""}})])},tn=[function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"icon"},[t("i",{staticClass:"fas fa-network-wired"})])}],rn={name:"tenant_network2",props:["model","view"],methods:{handleClick:function(){this.model.addNetwork()}},computed:{t:function(e){return Ye.NET_HEIGHT},l:function(e){return Ye.CMP_WIDTH+(this.model.current.networks.length+1)*(Ye.DX+Ye.NET_WIDTH)-1},w:function(e){return Ye.NET_WIDTH},h:function(e){return Ye.DY+this.model.current.components.length*(Ye.DY+Ye.CMP_HEIGHT)}}},on=rn,an=Object(l["a"])(on,nn,tn,!1,null,null,null),sn=an.exports,ln=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{class:"component index"+e.index,style:{top:e.t+"px",left:e.l+"px",width:e.w+"px",height:e.h+"px"}},[t("div",{class:"zone zone-"+e.z},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.component.placement,expression:"component.placement"}],on:{change:function(n){var t=Array.prototype.filter.call(n.target.options,(function(e){return e.selected})).map((function(e){var n="_value"in e?e._value:e.value;return n}));e.$set(e.component,"placement",n.target.multiple?t:t[0])}}},[t("option",{attrs:{disabled:"",value:""}},[e._v("Please select one")]),e._l(e.zones,(function(n){return t("option",{domProps:{value:n.name}},[e._v("\n        "+e._s(n.tag)+"\n      ")])}))],2)]),t("div",{staticClass:"name"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.component.name,expression:"component.name"}],domProps:{value:e.component.name},on:{change:e.handleChange,input:function(n){n.target.composing||e.$set(e.component,"name",n.target.value)}}})]),"OTHER"!=e.component.placement&&"ROUTER"!=e.component.placement?t("div",{staticClass:"sizing"},[e._v("\n    ("+e._s(e.component.min)+"/"+e._s(e.component.size)+"/"+e._s(e.component.max)+")\n  ")]):e._e(),t("div",{staticClass:"icon",on:{click:e.viewComponent}},[t("i",{staticClass:"fas fa-server"})]),e._l(e.component.interfaces,(function(n,r){return t("tenant_interface",{key:r,attrs:{model:e.model,view:e.view,component:e.component,interface:n,index:e.index,subindex:r}})}))],2)},cn=[],un=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{class:"interface network"+e.n+" component"+e.index,style:{top:e.t+"px",left:e.l+"px",width:e.w+"px",height:e.h+"px"},attrs:{title:e.a}},[t("div",{staticClass:"serverport"}),t("div",{staticClass:"switchport"})])},mn=[],dn={name:"tenant_interface",props:["model","view","component","interface","index","subindex"],computed:{t:function(){return(this.subindex+1)*Ye.CMP_HEIGHT/(this.component.interfaces.length+1)},l:function(){return Ye.CMP_WIDTH},w:function(){for(var e=0;e<this.model.current.networks.length;e++)if(this.interface.network===this.model.current.networks[e].name)return e*(Ye.DX+Ye.NET_WIDTH)+Ye.NET_WIDTH;return 0},h:function(){return 1},n:function(){for(var e=0;e<this.model.current.networks.length;e++)if(this.interface.network===this.model.current.networks[e].name)return e;return 0},a:function(){return this.interface.network+(""!=this.interface.attributes?": "+this.interface.attributes:"")}}},pn=dn,vn=Object(l["a"])(pn,un,mn,!1,null,null,null),fn=vn.exports,hn={name:"tenant_component",props:["model","view","component","index"],components:{tenant_interface:fn},methods:{handleChange:function(e){""===e.target.value&&this.model.deleteComponent(this.component)},viewComponent:function(e){this.view.navigation="Component",this.view.detail="Component",this.view.entity=this.component}},computed:{t:function(){return Ye.DY+Ye.NET_HEIGHT+this.index*(Ye.DY+Ye.CMP_HEIGHT)},l:function(){return Ye.DX},w:function(){return Ye.CMP_WIDTH},h:function(){return Ye.CMP_HEIGHT},z:function(){return this.component.placement.substr(0,1).toUpperCase()},zones:function(){return[{name:"OTHER",tag:"O"},{name:"EXT",tag:"E"},{name:"INT",tag:"I"},{name:"MGMT",tag:"M"},{name:"ROUTER",tag:"R"}]}}},wn=hn,gn=Object(l["a"])(wn,ln,cn,!1,null,null,null),_n=gn.exports,kn=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"component dummy",style:{top:e.t+"px",left:e.l+"px",width:e.w+"px",height:e.h+"px"},on:{click:e.handleClick}},[t("div",{staticClass:"'zone zone-O'"}),e._m(0),t("div",{staticClass:"name"},[e._v("new component")]),t("div",{staticClass:"sizing"})])},bn=[function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"icon"},[t("i",{staticClass:"fas fa-server"})])}],yn={name:"tenant_component2",props:["model","view"],methods:{handleClick:function(){this.model.addComponent()}},computed:{t:function(){return Ye.DY+Ye.NET_HEIGHT+this.model.current.components.length*(Ye.DY+Ye.CMP_HEIGHT)},l:function(){return Ye.DX},w:function(){return Ye.CMP_WIDTH},h:function(){return Ye.CMP_HEIGHT}}},xn=yn,Cn=Object(l["a"])(xn,kn,bn,!1,null,null,null),Tn=Cn.exports,On={name:"tenant",props:["model","view"],components:{tenant_network:en,tenant_network2:sn,tenant_component:_n,tenant_component2:Tn},methods:{handleClick:function(e){var n=document.getElementById("tenant_layout"),t=n.scrollLeft+e.pageX-Ye.PXOFFSET-Ye.XOFFSET,r=n.scrollTop+e.pageY-Ye.PYOFFSET-Ye.YOFFSET,i=Math.floor(t/Ye.XSLOT),o=Math.floor(r/Ye.YSLOT);if(0<=i&&i<this.model.current.networks.length&&0<=o&&o<this.model.current.components.length){var a=this.model.current.networks[i],s=this.model.current.components[o],l=this.model.hasComponentInterface(s,a.name);l?this.model.delComponentInterface(s,l):this.model.addComponentInterface(s,a.name)}}}},Pn=On,$n=Object(l["a"])(Pn,Ee,Se,!1,null,null,null),In=$n.exports,Nn=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"flavorform"}},[t("div",{staticClass:"header"},[e._v("Flavor: "+e._s(e.flavor.name))]),t("div",{staticClass:"line"},[t("label",{attrs:{for:"name"}},[e._v("Name:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.flavor.name,expression:"flavor.name"}],attrs:{id:"name",name:"name",required:""},domProps:{value:e.flavor.name},on:{input:function(n){n.target.composing||e.$set(e.flavor,"name",n.target.value)}}})]),t("div",{staticClass:"line"},[t("label",{attrs:{for:"vcpu"}},[e._v("vCPU:")]),t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.flavor.vcpu,expression:"flavor.vcpu",modifiers:{number:!0}}],attrs:{id:"vcpu",name:"vcpu",type:"number",required:""},domProps:{value:e.flavor.vcpu},on:{input:function(n){n.target.composing||e.$set(e.flavor,"vcpu",e._n(n.target.value))},blur:function(n){return e.$forceUpdate()}}})]),t("div",{staticClass:"line"},[t("label",{attrs:{for:"ram"}},[e._v("RAM:")]),t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.flavor.ram,expression:"flavor.ram",modifiers:{number:!0}}],attrs:{id:"ram",name:"ram",type:"number",required:""},domProps:{value:e.flavor.ram},on:{input:function(n){n.target.composing||e.$set(e.flavor,"ram",e._n(n.target.value))},blur:function(n){return e.$forceUpdate()}}})]),t("div",{staticClass:"line"},[t("label",{attrs:{for:"disk"}},[e._v("Disk:")]),t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.flavor.disk,expression:"flavor.disk",modifiers:{number:!0}}],attrs:{id:"disk",name:"disk",type:"number",required:""},domProps:{value:e.flavor.disk},on:{input:function(n){n.target.composing||e.$set(e.flavor,"disk",e._n(n.target.value))},blur:function(n){return e.$forceUpdate()}}})]),t("div",{staticClass:"line"},[t("label",{attrs:{for:"public"}},[e._v("Public:")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.flavor.public,expression:"flavor.public"}],attrs:{id:"public",name:"public",required:""},on:{change:function(n){var t=Array.prototype.filter.call(n.target.options,(function(e){return e.selected})).map((function(e){var n="_value"in e?e._value:e.value;return n}));e.$set(e.flavor,"public",n.target.multiple?t:t[0])}}},[t("option",{attrs:{disabled:"",value:""}},[e._v("Please select one")]),t("option",{attrs:{value:"true"}},[e._v("true")]),t("option",{attrs:{value:"false"}},[e._v("false")])])]),t("div",{staticClass:"subheader"},[e._v("Special Attributes:")]),t("div",{staticClass:"line"},[t("label",{staticClass:"top"},[e._v("Attribute:")]),t("label",{staticClass:"top"},[e._v("Value:")]),t("label",{on:{click:function(n){return e.addFlavorAttribute()}}},[t("i",{staticClass:"fas fa-plus-circle"})])]),e._l(e.flavor.special,(function(n,r){return t("div",{staticClass:"line"},[t("input",{directives:[{name:"model",rawName:"v-model",value:n.key,expression:"special.key"}],attrs:{id:"special_"+r+"key",name:"special_"+r+"key",required:""},domProps:{value:n.key},on:{input:function(t){t.target.composing||e.$set(n,"key",t.target.value)}}}),t("input",{directives:[{name:"model",rawName:"v-model",value:n.value,expression:"special.value"}],attrs:{id:"special_"+r+"value",name:"special_"+r+"value",required:""},domProps:{value:n.value},on:{input:function(t){t.target.composing||e.$set(n,"value",t.target.value)}}}),t("label",{on:{click:function(t){return e.delFlavorAttribute(n)}}},[t("i",{staticClass:"fas fa-minus-circle"})])])}))],2)},Rn=[],En={name:"flavorform",props:["model","view","flavor"],methods:{addFlavorAttribute:function(){this.model.addFlavorAttribute(this.flavor)},delFlavorAttribute:function(e){this.model.delFlavorAttribute(this.flavor,e)}}},Sn=En,Fn=Object(l["a"])(Sn,Nn,Rn,!1,null,null,null),Hn=Fn.exports,An=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"imageform"}},[t("div",{staticClass:"header"},[e._v("Image: "+e._s(e.image.name))]),t("div",{staticClass:"line"},[t("label",{attrs:{for:"name"}},[e._v("Name:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.image.name,expression:"image.name"}],attrs:{id:"name",name:"name",required:""},domProps:{value:e.image.name},on:{input:function(n){n.target.composing||e.$set(e.image,"name",n.target.value)}}})]),t("div",{staticClass:"line"},[t("label",{attrs:{for:"name"}},[e._v("Version:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.image.version,expression:"image.version"}],attrs:{id:"version",name:"version",required:""},domProps:{value:e.image.version},on:{input:function(n){n.target.composing||e.$set(e.image,"version",n.target.value)}}})]),t("div",{staticClass:"line"},[t("label",{attrs:{for:"format"}},[e._v("Format:")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.image.format,expression:"image.format"}],class:{valid:e.disk_formats.includes(e.image.format)},attrs:{id:"disk",name:"format",required:""},on:{change:function(n){var t=Array.prototype.filter.call(n.target.options,(function(e){return e.selected})).map((function(e){var n="_value"in e?e._value:e.value;return n}));e.$set(e.image,"format",n.target.multiple?t:t[0])}}},[t("option",{attrs:{disabled:"",value:""}},[e._v("Please select one")]),e._l(e.disk_formats,(function(n){return t("option",{domProps:{value:n}},[e._v("\n        "+e._s(n)+"\n      ")])}))],2)]),t("div",{staticClass:"line"},[t("label",{attrs:{for:"name"}},[e._v("Container:")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.image.container,expression:"image.container"}],class:{valid:e.container_formats.includes(e.image.container)},attrs:{id:"container",name:"container",required:""},on:{change:function(n){var t=Array.prototype.filter.call(n.target.options,(function(e){return e.selected})).map((function(e){var n="_value"in e?e._value:e.value;return n}));e.$set(e.image,"container",n.target.multiple?t:t[0])}}},[t("option",{attrs:{disabled:"",value:""}},[e._v("Please select one")]),e._l(e.container_formats,(function(n){return t("option",{domProps:{value:n}},[e._v("\n        "+e._s(n)+"\n      ")])}))],2)]),t("div",{staticClass:"line"},[t("label",{attrs:{for:"name"}},[e._v("Min. Disk:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.image.disk,expression:"image.disk"}],attrs:{id:"disk",name:"disk",required:""},domProps:{value:e.image.disk},on:{input:function(n){n.target.composing||e.$set(e.image,"disk",n.target.value)}}})]),t("div",{staticClass:"line"},[t("label",{attrs:{for:"name"}},[e._v("Size:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.image.size,expression:"image.size"}],attrs:{id:"size",name:"size",required:""},domProps:{value:e.image.size},on:{input:function(n){n.target.composing||e.$set(e.image,"size",n.target.value)}}})]),t("div",{staticClass:"line"},[t("label",{attrs:{for:"name"}},[e._v("URL:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.image.url,expression:"image.url"}],attrs:{id:"url",name:"url",required:""},domProps:{value:e.image.url},on:{input:function(n){n.target.composing||e.$set(e.image,"url",n.target.value)}}})]),t("div",{staticClass:"line"},[t("label",{attrs:{for:"name"}},[e._v("Checksum:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.image.checksum,expression:"image.checksum"}],attrs:{id:"checksum",name:"checksum",required:""},domProps:{value:e.image.checksum},on:{input:function(n){n.target.composing||e.$set(e.image,"checksum",n.target.value)}}})]),t("div",{staticClass:"line"},[t("label",{attrs:{for:"name"}},[e._v("Attributes:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.image.special,expression:"image.special"}],attrs:{id:"special",name:"special",required:""},domProps:{value:e.image.special},on:{input:function(n){n.target.composing||e.$set(e.image,"special",n.target.value)}}})])])},Dn=[],zn={name:"imageform",props:["model","view","image"],computed:{container_formats:function(){return["aki","ami","ari","bare","docker","ova","ovf"]},disk_formats:function(){return["aki","ami","ari","iso","qcow2","raw","vdi","vhd","vhdx","vmdk"]}}},qn=zn,Un=Object(l["a"])(qn,An,Dn,!1,null,null,null),Mn=Un.exports,jn=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"networkform"}},[t("div",{staticClass:"header"},[e._v("Network: "+e._s(e.network.name))]),t("div",{staticClass:"line"},[t("label",{attrs:{for:"name"}},[e._v("Name:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.network.name,expression:"network.name"}],attrs:{id:"name",name:"name",title:"Name of the network",required:""},domProps:{value:e.network.name},on:{input:function(n){n.target.composing||e.$set(e.network,"name",n.target.value)}}})]),t("div",{staticClass:"line"},[t("label",{attrs:{for:"special"}},[e._v("Attributes:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.network.special,expression:"network.special"}],attrs:{id:"special",name:"special",title:"Special attributes"},domProps:{value:e.network.special},on:{input:function(n){n.target.composing||e.$set(e.network,"special",n.target.value)}}})]),t("div",{staticClass:"line"},[t("label",{attrs:{for:"special"}},[e._v("External:")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.network.external,expression:"network.external"}],attrs:{id:"external",name:"external"},on:{change:function(n){var t=Array.prototype.filter.call(n.target.options,(function(e){return e.selected})).map((function(e){var n="_value"in e?e._value:e.value;return n}));e.$set(e.network,"external",n.target.multiple?t:t[0])}}},[t("option",[e._v("true")]),t("option",[e._v("false")])])]),t("div",{staticClass:"subheader"},[e._v("IPv4:")]),t("div",{staticClass:"line"},[t("label",{attrs:{for:"ipv4"}},[e._v("CIDR:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.network.ipv4,expression:"network.ipv4"}],attrs:{id:"ipv4",name:"ipv4",title:"IPv4 CIDR"},domProps:{value:e.network.ipv4},on:{input:function(n){n.target.composing||e.$set(e.network,"ipv4",n.target.value)}}})]),t("div",{staticClass:"line"},[t("label",{attrs:{for:"ipv4"}},[e._v("Gateway:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.network.ipv4gw,expression:"network.ipv4gw"}],attrs:{id:"ipv4gw",name:"ipv4gw",title:"IPv4 gateway"},domProps:{value:e.network.ipv4gw},on:{input:function(n){n.target.composing||e.$set(e.network,"ipv4gw",n.target.value)}}})]),t("div",{staticClass:"line"},[t("label",{attrs:{for:"ipv4"}},[e._v("Start:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.network.ipv4start,expression:"network.ipv4start"}],attrs:{id:"ipv4start",name:"ipv4start",title:"Start of IPv4 address pool"},domProps:{value:e.network.ipv4start},on:{input:function(n){n.target.composing||e.$set(e.network,"ipv4start",n.target.value)}}})]),t("div",{staticClass:"line"},[t("label",{attrs:{for:"ipv4"}},[e._v("End:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.network.ipv4end,expression:"network.ipv4end"}],attrs:{id:"ipv4end",name:"ipv4end",title:"End of IPv4 address pool"},domProps:{value:e.network.ipv4end},on:{input:function(n){n.target.composing||e.$set(e.network,"ipv4end",n.target.value)}}})]),t("div",{staticClass:"subheader"},[e._v("IPv6:")]),t("div",{staticClass:"line"},[t("label",{attrs:{for:"ipv6"}},[e._v("CIDR:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.network.ipv6,expression:"network.ipv6"}],attrs:{id:"ipv6",name:"ipv6",title:"IPv6 CIDR"},domProps:{value:e.network.ipv6},on:{input:function(n){n.target.composing||e.$set(e.network,"ipv6",n.target.value)}}})]),t("div",{staticClass:"line"},[t("label",{attrs:{for:"ipv6"}},[e._v("Gateway:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.network.ipv6gw,expression:"network.ipv6gw"}],attrs:{id:"ipv6gw",name:"ipv6gw",title:"IPv6 gateway"},domProps:{value:e.network.ipv6gw},on:{input:function(n){n.target.composing||e.$set(e.network,"ipv6gw",n.target.value)}}})]),t("div",{staticClass:"line"},[t("label",{attrs:{for:"ipv4"}},[e._v("Start:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.network.ipv6start,expression:"network.ipv6start"}],attrs:{id:"ipv6start",name:"ipv6start",title:"Start of IPv6 address pool"},domProps:{value:e.network.ipv6start},on:{input:function(n){n.target.composing||e.$set(e.network,"ipv6start",n.target.value)}}})]),t("div",{staticClass:"line"},[t("label",{attrs:{for:"ipv4"}},[e._v("End:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.network.ipv6end,expression:"network.ipv6end"}],attrs:{id:"ipv6end",name:"ipv6end",title:"End of IPv6 address pool"},domProps:{value:e.network.ipv6end},on:{input:function(n){n.target.composing||e.$set(e.network,"ipv6end",n.target.value)}}})]),t("div",{staticClass:"subheader"},[e._v("Routes:")]),t("div",{staticClass:"line"},[t("label",{attrs:{for:"route"}},[e._v("Route:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.network.route,expression:"network.route"}],attrs:{id:"route",name:"route",title:"Comma seperated list of route targets"},domProps:{value:e.network.route},on:{input:function(n){n.target.composing||e.$set(e.network,"route",n.target.value)}}})]),t("div",{staticClass:"line"},[t("label",{attrs:{for:"route"}},[e._v("Export:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.network.export,expression:"network.export"}],attrs:{id:"export",name:"export",title:"Comma seperated list of exported route targets"},domProps:{value:e.network.export},on:{input:function(n){n.target.composing||e.$set(e.network,"export",n.target.value)}}})]),t("div",{staticClass:"line"},[t("label",{attrs:{for:"route"}},[e._v("Import:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.network.import,expression:"network.import"}],attrs:{id:"import",name:"import",title:"Comma seperated list of imported route targets"},domProps:{value:e.network.import},on:{input:function(n){n.target.composing||e.$set(e.network,"import",n.target.value)}}})])])},Vn=[],Gn={name:"networkform",props:["model","view","network"]},Ln=Gn,Bn=Object(l["a"])(Ln,jn,Vn,!1,null,null,null),Xn=Bn.exports,Yn=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"componentform"}},[t("div",{staticClass:"header"},[e._v("Component: "+e._s(e.component.name))]),t("div",{staticClass:"line"},[t("label",{attrs:{for:"name"}},[e._v("Name:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.component.name,expression:"component.name"}],staticClass:"col5",attrs:{id:"name",name:"name",required:""},domProps:{value:e.component.name},on:{input:function(n){n.target.composing||e.$set(e.component,"name",n.target.value)}}}),"OTHER"!=e.component.placement&&"ROUTER"!=e.component.placement?t("label",{attrs:{for:"name"}},[e._v("User:")]):e._e(),"OTHER"!=e.component.placement&&"ROUTER"!=e.component.placement?t("input",{directives:[{name:"model",rawName:"v-model",value:e.component.user,expression:"component.user"}],staticClass:"col5",attrs:{id:"user",name:"user",required:""},domProps:{value:e.component.user},on:{input:function(n){n.target.composing||e.$set(e.component,"user",n.target.value)}}}):e._e()]),t("div",{staticClass:"line"},[t("label",{attrs:{for:"placement"}},[e._v("Placement:")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.component.placement,expression:"component.placement"}],class:{valid:e.zones.includes(e.component.placement)},attrs:{id:"placement",name:"placement",required:""},on:{change:function(n){var t=Array.prototype.filter.call(n.target.options,(function(e){return e.selected})).map((function(e){var n="_value"in e?e._value:e.value;return n}));e.$set(e.component,"placement",n.target.multiple?t:t[0])}}},[t("option",{attrs:{disabled:"",value:""}},[e._v("Please select one")]),e._l(e.zones,(function(n){return t("option",{domProps:{value:n}},[e._v("\n        "+e._s(n)+"\n      ")])}))],2),"OTHER"!=e.component.placement&&"ROUTER"!=e.component.placement?t("label",{attrs:{for:"flavor"}},[e._v("Flavor:")]):e._e(),"OTHER"!=e.component.placement&&"ROUTER"!=e.component.placement?t("select",{directives:[{name:"model",rawName:"v-model",value:e.component.flavor,expression:"component.flavor"}],class:{valid:e.flavors.includes(e.component.flavor)},attrs:{id:"flavor",name:"flavor",required:""},on:{change:function(n){var t=Array.prototype.filter.call(n.target.options,(function(e){return e.selected})).map((function(e){var n="_value"in e?e._value:e.value;return n}));e.$set(e.component,"flavor",n.target.multiple?t:t[0])}}},[t("option",{attrs:{disabled:"",value:""}},[e._v("Please select one")]),e._l(e.flavors,(function(n){return t("option",{domProps:{value:n}},[e._v("\n        "+e._s(n)+"\n      ")])}))],2):e._e(),"OTHER"!=e.component.placement&&"ROUTER"!=e.component.placement?t("label",{attrs:{for:"image"}},[e._v("Image:")]):e._e(),"OTHER"!=e.component.placement&&"ROUTER"!=e.component.placement?t("select",{directives:[{name:"model",rawName:"v-model",value:e.component.image,expression:"component.image"}],class:{valid:e.images.includes(e.component.image)},attrs:{id:"image",name:"image",required:""},on:{change:function(n){var t=Array.prototype.filter.call(n.target.options,(function(e){return e.selected})).map((function(e){var n="_value"in e?e._value:e.value;return n}));e.$set(e.component,"image",n.target.multiple?t:t[0])}}},[t("option",{attrs:{disabled:"",value:""}},[e._v("Please select one")]),e._l(e.images,(function(n){return t("option",{domProps:{value:n}},[e._v("\n        "+e._s(n)+"\n      ")])}))],2):e._e()]),"OTHER"!=e.component.placement&&"ROUTER"!=e.component.placement?t("div",{staticClass:"line"},[t("label",{attrs:{for:"min"}},[e._v("Minimum:")]),t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.component.min,expression:"component.min",modifiers:{number:!0}}],attrs:{id:"min",name:"min",type:"number",required:""},domProps:{value:e.component.min},on:{input:function(n){n.target.composing||e.$set(e.component,"min",e._n(n.target.value))},blur:function(n){return e.$forceUpdate()}}}),t("label",{attrs:{for:"size"}},[e._v("Size:")]),t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.component.size,expression:"component.size",modifiers:{number:!0}}],attrs:{id:"size",name:"size",type:"number",required:""},domProps:{value:e.component.size},on:{input:function(n){n.target.composing||e.$set(e.component,"size",e._n(n.target.value))},blur:function(n){return e.$forceUpdate()}}}),t("label",{attrs:{for:"max"}},[e._v("Maximum:")]),t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.component.max,expression:"component.max",modifiers:{number:!0}}],attrs:{id:"max",name:"max",type:"number",required:""},domProps:{value:e.component.max},on:{input:function(n){n.target.composing||e.$set(e.component,"max",e._n(n.target.value))},blur:function(n){return e.$forceUpdate()}}})]):e._e(),"OTHER"!=e.component.placement&&"ROUTER"!=e.component.placement?t("div",{staticClass:"subheader"},[e._v("\n    Volumes:\n  ")]):e._e(),"OTHER"!=e.component.placement&&"ROUTER"!=e.component.placement?t("div",{staticClass:"line"},[t("label",{staticClass:"top"},[e._v("Name:")]),t("label",{staticClass:"top"},[e._v("Size:")]),t("label",{staticClass:"top"},[e._v("Type:")]),t("label",{staticClass:"top"},[e._v("Attributes:")]),t("label",{on:{click:e.addVolume}},[t("i",{staticClass:"fas fa-plus-circle"})])]):e._e(),e._l(e.component.volumes,(function(n,r){return"OTHER"!=e.component.placement&&"ROUTER"!=e.component.placement?t("div",{staticClass:"line"},[t("input",{directives:[{name:"model",rawName:"v-model",value:n.name,expression:"volume.name"}],attrs:{id:"volumes_"+r+"_name",name:"volumes_"+r+"_name",required:""},domProps:{value:n.name},on:{input:function(t){t.target.composing||e.$set(n,"name",t.target.value)}}}),t("input",{directives:[{name:"model",rawName:"v-model.number",value:n.size,expression:"volume.size",modifiers:{number:!0}}],attrs:{id:"volumes_"+r+"_size",name:"volumes_"+r+"_size",type:"number",required:""},domProps:{value:n.size},on:{input:function(t){t.target.composing||e.$set(n,"size",e._n(t.target.value))},blur:function(n){return e.$forceUpdate()}}}),t("select",{directives:[{name:"model",rawName:"v-model",value:n.type,expression:"volume.type"}],class:{valid:e.storagetypes.includes(n.type)},attrs:{id:"volumes_"+r+"_type",name:"volumes_"+r+"_type",required:""},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var n="_value"in e?e._value:e.value;return n}));e.$set(n,"type",t.target.multiple?r:r[0])}}},[t("option",{attrs:{disabled:"",value:""}},[e._v("Please select one")]),e._l(e.storagetypes,(function(n){return t("option",{domProps:{value:n}},[e._v("\n        "+e._s(n)+"\n      ")])}))],2),t("input",{directives:[{name:"model",rawName:"v-model",value:n.attributes,expression:"volume.attributes"}],attrs:{id:"volumes_"+r+"_attributes",name:"volumes_"+r+"_attributes"},domProps:{value:n.attributes},on:{input:function(t){t.target.composing||e.$set(n,"attributes",t.target.value)}}}),t("label",{on:{click:function(t){return e.delVolume(n)}}},[t("i",{staticClass:"fas fa-minus-circle"})])]):e._e()})),t("div",{staticClass:"subheader"},[e._v("Interfaces:")]),t("div",{staticClass:"line"},[t("label",{staticClass:"top"},[e._v("Network:")]),t("label",{staticClass:"top"},[e._v("Attributes:")]),t("label",{staticClass:"top"}),t("label",{staticClass:"top"}),t("label",{on:{click:function(n){return e.addInterface()}}},[t("i",{staticClass:"fas fa-plus-circle"})])]),e._l(e.component.interfaces,(function(n,r){return t("div",{staticClass:"line"},[t("select",{directives:[{name:"model",rawName:"v-model",value:n.network,expression:"componentInterface.network"}],class:{valid:e.all_networks.includes(n.network)},attrs:{id:"interfaces_"+r+"_network",name:"interfaces_"+r+"_network",required:""},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var n="_value"in e?e._value:e.value;return n}));e.$set(n,"network",t.target.multiple?r:r[0])}}},[t("option",{attrs:{disabled:"",value:""}},[e._v("Please select one")]),e._l(e.all_networks,(function(n){return t("option",{domProps:{value:n}},[e._v("\n        "+e._s(n)+"\n      ")])}))],2),t("input",{directives:[{name:"model",rawName:"v-model",value:n.attributes,expression:"componentInterface.attributes"}],staticClass:"col3",attrs:{id:"interfaces_"+r+"_attributes",name:"interfaces_"+r+"_attributes"},domProps:{value:n.attributes},on:{input:function(t){t.target.composing||e.$set(n,"attributes",t.target.value)}}}),t("label",{on:{click:function(t){return e.delInterface(n)}}},[t("i",{staticClass:"fas fa-minus-circle"})])])})),"ROUTER"!=e.component.placement?t("div",{staticClass:"subheader"},[e._v("\n    Services:\n  ")]):e._e(),"ROUTER"!=e.component.placement?t("div",{staticClass:"line"},[t("label",{staticClass:"top"},[e._v("Name:")]),t("label",{staticClass:"top"},[e._v("Network")]),t("label",{staticClass:"top"},[e._v("Protocol")]),t("label",{staticClass:"top"},[e._v("Range:")]),t("label",{on:{click:function(n){return e.addService()}}},[t("i",{staticClass:"fas fa-plus-circle"})])]):e._e(),e._l(e.component.services,(function(n,r){return"ROUTER"!=e.component.placement?t("div",{staticClass:"line"},[t("input",{directives:[{name:"model",rawName:"v-model",value:n.name,expression:"service.name"}],attrs:{id:"services_"+r+"_name",name:"services_"+r+"_name",required:""},domProps:{value:n.name},on:{input:function(t){t.target.composing||e.$set(n,"name",t.target.value)}}}),t("select",{directives:[{name:"model",rawName:"v-model",value:n.network,expression:"service.network"}],class:{valid:""!==n.network},attrs:{id:"services_"+r+"_network",name:"services_"+r+"_network"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var n="_value"in e?e._value:e.value;return n}));e.$set(n,"network",t.target.multiple?r:r[0])}}},[t("option",{attrs:{disabled:"",value:""}},[e._v("Please select one")]),e._l(e.component.interfaces,(function(n){return t("option",{domProps:{value:n.network}},[e._v("\n        "+e._s(n.network)+"\n      ")])}))],2),t("select",{directives:[{name:"model",rawName:"v-model",value:n.protocol,expression:"service.protocol"}],class:{valid:e.protocols.includes(n.protocol)},attrs:{id:"services_"+r+"_protocol",name:"services_"+r+"_protocol",required:""},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var n="_value"in e?e._value:e.value;return n}));e.$set(n,"protocol",t.target.multiple?r:r[0])}}},[t("option",{attrs:{disabled:"",value:""}},[e._v("Please select one")]),e._l(e.protocols,(function(n){return t("option",{domProps:{value:n}},[e._v("\n        "+e._s(n)+"\n      ")])}))],2),t("input",{directives:[{name:"model",rawName:"v-model",value:n.range,expression:"service.range"}],attrs:{id:"services_"+r+"_range",name:"services_"+r+"_range",required:""},domProps:{value:n.range},on:{input:function(t){t.target.composing||e.$set(n,"range",t.target.value)}}}),t("label",{on:{click:function(t){return e.delService(n)}}},[t("i",{staticClass:"fas fa-minus-circle"})])]):e._e()})),"ROUTER"!=e.component.placement?t("div",{staticClass:"subheader"},[e._v("\n    Dependencies:\n  ")]):e._e(),"ROUTER"!=e.component.placement?t("div",{staticClass:"line"},[t("label",{staticClass:"top"},[e._v("Component:")]),t("label",{staticClass:"top"},[e._v("Service:")]),t("label",{staticClass:"top"},[e._v("Network")]),t("label",{on:{click:function(n){return e.addDependency()}}},[t("i",{staticClass:"fas fa-plus-circle"})])]):e._e(),e._l(e.component.dependencies,(function(n,r){return"ROUTER"!=e.component.placement?t("div",{staticClass:"line"},[t("select",{directives:[{name:"model",rawName:"v-model",value:n.component,expression:"dependency.component"}],class:{valid:e.components.includes(n.component)},attrs:{id:"dependencies_"+r+"_component",name:"dependencies_"+r+"_component",required:""},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var n="_value"in e?e._value:e.value;return n}));e.$set(n,"component",t.target.multiple?r:r[0])}}},[t("option",{attrs:{disabled:"",value:""}},[e._v("Please select one")]),e._l(e.components,(function(n){return t("option",{domProps:{value:n}},[e._v("\n        "+e._s(n)+"\n      ")])}))],2),t("select",{directives:[{name:"model",rawName:"v-model",value:n.service,expression:"dependency.service"}],class:{valid:e.services2.includes(n.component+":"+n.service)},attrs:{id:"dependencies_"+r+"_service",name:"dependencies_"+r+"_service",required:""},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var n="_value"in e?e._value:e.value;return n}));e.$set(n,"service",t.target.multiple?r:r[0])}}},[t("option",{attrs:{disabled:"",value:""}},[e._v("Please select one")]),e._l(e.services,(function(r){return r.component===n.component?t("option",{domProps:{value:r.service}},[e._v("\n        "+e._s(r.service)+"\n      ")]):e._e()}))],2),t("select",{directives:[{name:"model",rawName:"v-model",value:n.network,expression:"dependency.network"}],class:{valid:e.interfaces.includes(n.network)},attrs:{id:"dependencies_"+r+"_network",name:"dependencies_"+r+"_network",required:""},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var n="_value"in e?e._value:e.value;return n}));e.$set(n,"network",t.target.multiple?r:r[0])}}},[t("option",{attrs:{disabled:"",value:""}},[e._v("Please select one")]),e._l(e.component.interfaces,(function(n){return t("option",{domProps:{value:n.network}},[e._v("\n        "+e._s(n.network)+"\n      ")])}))],2),t("label",{on:{click:function(t){return e.delDependency(n)}}},[t("i",{staticClass:"fas fa-minus-circle"})])]):e._e()})),"OTHER"!=e.component.placement&&"ROUTER"!=e.component.placement?t("div",{staticClass:"subheader"},[e._v("\n    User Data:\n  ")]):e._e(),"OTHER"!=e.component.placement&&"ROUTER"!=e.component.placement?t("div",{staticClass:"line"},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.component.userdata,expression:"component.userdata"}],staticClass:"userdata",domProps:{value:e.component.userdata},on:{input:function(n){n.target.composing||e.$set(e.component,"userdata",n.target.value)}}})]):e._e(),t("div",{staticClass:"line"},[e._v(" ")])],2)},Wn=[],Jn={name:"",props:["model","view","component"],computed:{services:function(){var e=[],n=!0,t=!1,r=void 0;try{for(var i,o=this.model.current.components[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var a=i.value,s=!0,l=!1,c=void 0;try{for(var u,m=a.services[Symbol.iterator]();!(s=(u=m.next()).done);s=!0){var d=u.value;e.push({component:a.name,service:d.name})}}catch(p){l=!0,c=p}finally{try{s||null==m.return||m.return()}finally{if(l)throw c}}}}catch(p){t=!0,r=p}finally{try{n||null==o.return||o.return()}finally{if(t)throw r}}return e},services2:function(){var e=[],n=!0,t=!1,r=void 0;try{for(var i,o=this.model.current.components[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var a=i.value,s=!0,l=!1,c=void 0;try{for(var u,m=a.services[Symbol.iterator]();!(s=(u=m.next()).done);s=!0){var d=u.value;e.push(a.name+":"+d.name)}}catch(p){l=!0,c=p}finally{try{s||null==m.return||m.return()}finally{if(l)throw c}}}}catch(p){t=!0,r=p}finally{try{n||null==o.return||o.return()}finally{if(t)throw r}}return e},components:function(){return this.model.current.components.filter((function(e){return"ROUTER"!=e.placement})).map((function(e){return e.name}))},all_networks:function(){return this.model.current.networks.map((function(e){return e.name}))},interfaces:function(){return this.component.interfaces.map((function(e){return e.network}))},zones:function(){return["OTHER","EXT","INT","MGMT","ROUTER"]},flavors:function(){return this.model.current.flavors.map((function(e){return e.name}))},images:function(){return this.model.current.images.map((function(e){return e.name}))},storagetypes:function(){return["EXT","INT"]},protocols:function(){return["tcp","udp","icmp","any","sctp","none"]},userdata:function(){return this.component.userdata.map((function(e,n){return{uuid:uuidv4(),index:n}}))}},methods:{addVolume:function(){this.model.addComponentVolume(this.component)},delVolume:function(e){this.model.delComponentVolume(this.component,e)},addInterface:function(){this.model.addComponentInterface(this.component)},delInterface:function(e){this.model.delComponentInterface(this.component,e)},addService:function(){this.model.addComponentService(this.component)},delService:function(e){this.model.delComponentService(this.component,e)},addDependency:function(){this.model.addComponentDependency(this.component)},delDependency:function(e){this.model.delComponentDependency(this.component,e)},addUserdata:function(){this.model.addUserdata(this.component)},delUserdata:function(e){this.model.delUserdata(this.component,this.component.userdata[e.index])}}},Kn=Jn,Qn=Object(l["a"])(Kn,Yn,Wn,!1,null,null,null),Zn=Qn.exports,et=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"exportform"}},[t("div",{staticClass:"header"},[e._v("\n    Export: "+e._s(e.model.current.vnf)+"/"+e._s(e.model.current.tenant.name)+" ("+e._s(e.model.current.version)+")\n    "),t("div",{staticClass:"button",attrs:{title:"download archive"},on:{click:e.downloadArchive}},[t("i",{staticClass:"fas fa-file-archive"}),e._v(" Archive\n    ")]),t("div",{staticClass:"button",attrs:{title:"download file"},on:{click:e.download}},[t("i",{staticClass:"fas fa-download"}),e._v(" Save\n    ")]),t("div",{staticClass:"button",attrs:{title:"copy to clipboard"},on:{click:e.copyToClipboard}},[t("i",{staticClass:"fas fa-copy"}),e._v(" Copy\n    ")]),t("div",{staticClass:"format"},[e._v("\n      Format:  \n      "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.view.export,expression:"view.export"}],on:{change:function(n){var t=Array.prototype.filter.call(n.target.options,(function(e){return e.selected})).map((function(e){var n="_value"in e?e._value:e.value;return n}));e.$set(e.view,"export",n.target.multiple?t:t[0])}}},e._l(e.formats,(function(n){return t("option",{key:n,domProps:{value:n}},[e._v("\n          "+e._s(n)+"\n        ")])})),0)])]),t("div",{staticClass:"line"},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.result,expression:"result"}],attrs:{id:"export",name:"export",readonly:""},domProps:{value:e.result},on:{input:function(n){n.target.composing||(e.result=n.target.value)}}})])])},nt=[],tt={"networks.tmpl":"---\nnetworks:\n{% for name in network_names %}\n{% set n = namespace(network='unknown',subnet='unknown',cidr='',gateway='',start='',end='') %}\n{% for network in networks.ansible_facts.openstack_networks %}{% if network.name == name %}\n{% set n.network = 'defined' %}\n{% for subnet in subnets.ansible_facts.openstack_subnets %}{% if subnet.network_id == network.id %}\n{% set n.subnet  = 'defined' %}\n{% set n.cidr    = subnet.cidr %}\n{% set n.gateway = subnet.gateway_ip %}\n{% set n.start   = subnet.allocation_pools[0].start %}\n{% set n.end     = subnet.allocation_pools[0].end %}\n{% endif %}{% endfor %}\n{% endif %}{% endfor %}\n  {{name}}:\n    network: {{ n.network }}\n    subnet:  {{ n.subnet }}\n    cidr:    {{ n.cidr }}\n    gateway: {{ n.gateway }}\n    start:   {{ n.start }}\n    end:     {{ n.end }}\n{% endfor %}","servers.tmpl":'---\n{% set n = namespace(server_found=false,port_found=false) %}\nservers:\n{% for server_name in server_names %}\n{% set n.server_found = false %}\n  {{server_name}}:\n{% for server in servers.ansible_facts.openstack_servers %}{% if server.name == server_name %}{% set n.server_found = true %}\n    status:  "defined"\n{% endif %}{% endfor %}\n{% if n.server_found == false %}\n    status:  "unknown"\n{% endif %}\n    interfaces:\n{% for port_name in port_names %}{% if port_name.startswith(server_name + \'_\') %}\n{% set n.port_found = false %}\n      {{ port_name | replace(prefix + server_name + "_","") }}:\n{% for port in ports.ansible_facts.openstack_ports %}{% if port.name == port_name %}{% set n.port_found = true %}\n        status:    "defined"\n        fixed:     "{{ port.fixed_ips | map(attribute=\'ip_address\') | join(\', \') }}"\n        allowed:   "{{ port.allowed_address_pairs | map(attribute=\'ip_address\') | join(\', \') }}"\n{% endif %}{% endfor %}\n{% if n.port_found == false %}\n        status:  "unknown"\n        fixed:   ""\n        allowed: ""\n{% endif %}\n{% endif %}{% endfor %}\n{% endfor %}\n',"ansible.cfg":"\n[defaults]\ninventory       = ./output/inventory\nstdout_callback = yaml\n\n[ssh_connection]\nssh_args     = -F ./output/config\ncontrol_path = ./mux-%r@%h:%p",inventory:"localhost ansible_connection=local\n\n[servers]\n{% for server_name in server_names %}\n{{server_name}}\n{% endfor %}\n\n[ssh_servers]\n{% for server_name in ssh_server_names %}\n{{server_name}}\n{% endfor %}",default_inventory:"localhost ansible_connection=local ",setup:'#!/usr/bin/env bash\n\nROOT="."\n\nif [ -f "$ROOT/setup.sh" ]; then\n  chmod a+x $ROOT/networks/*.yml\n  chmod a+x $ROOT/servers/*.sh\n  chmod a+x $ROOT/servers/*.yml\n  find  $ROOT/servers -name \'*.yml\' -type f | xargs chmod a+x\n  find  $ROOT/router  -name \'*.yml\' -type f | xargs chmod a+x\nelse\n  echo "Script should be sourced within the same directory"\nfi'};tt["setup"]='#!/usr/bin/env bash\n\n# This script has to be sourced in order to adjust the path\nif [[ $_ == $0 ]]\nthen\n  echo ""\n  echo "This script has to be sourced!"\n  echo ""\n  return\nfi\n\n# Check availability of required software\nwhich ansible 2>&1 > /dev/null\nif [[ "$?" == "1" ]]; then\n  echo ""\n  echo "Ansible has not been installed!"\n  echo ""\n  return\nfi\n\nwhich openstack 2>&1 > /dev/null\nif [[ "$?" == "1" ]]; then\n  echo ""\n  echo "openstack client has not been installed!"\n  echo ""\n  return\nfi\n\n# Determine root directory of the setup.sh script\nROOT="/"$(pwd)"/$BASH_SOURCE"\nROOT=$(echo $ROOT | sed \'s/.........$//\' )\n\n# Determine the bin directory\nBIN="$ROOT/bin"\n\n# Add bin subdirectory bin to path\nif [ -d "$BIN" ] && [[ ":$PATH:" != *":$BIN:"* ]]; then\n    export PATH="$PATH:$BIN"\nfi\n\n# Make all scripts executable\nfind  $BIN                    -name \'*.sh\'  -type f | xargs chmod a+x 2>&1 > /dev/null\nfind  $ROOT/elements/networks -name \'*.yml\' -type f | xargs chmod a+x 2>&1 > /dev/null\nfind  $ROOT/elements/networks -name \'*.sh\'  -type f | xargs chmod a+x 2>&1 > /dev/null\nfind  $ROOT/elements/servers  -name \'*.yml\' -type f | xargs chmod a+x 2>&1 > /dev/null\nfind  $ROOT/elements/servers  -name \'*.sh\'  -type f | xargs chmod a+x 2>&1 > /dev/null\nfind  $ROOT/elements/router   -name \'*.yml\' -type f | xargs chmod a+x 2>&1 > /dev/null\nfind  $ROOT/elements/router   -name \'*.sh\'  -type f | xargs chmod a+x 2>&1 > /dev/null\n\n# Create ansible.cfg file in ROOT\necho "[defaults]"                               >  $ROOT/ansible.cfg\necho "inventory       = $ROOT/output/inventory" >> $ROOT/ansible.cfg\necho "stdout_callback = yaml"                   >> $ROOT/ansible.cfg\necho ""                                         >> $ROOT/ansible.cfg\necho "[ssh_connection]"                         >> $ROOT/ansible.cfg\necho "ssh_args     = -F $ROOT/output/config"    >> $ROOT/ansible.cfg\necho "control_path = ./mux-%r@%h:%p"            >> $ROOT/ansible.cfg\n\n# Define basic ansible configuration file\nexport ANSIBLE_CONFIG=$ROOT/ansible.cfg\n\n# Change to root directory\ncd $ROOT\n\n# Source openrc\nif [ ! -f "input/openrc" ];\nthen\n  echo ""\n  echo "OpenStack openrc file can not be found in the input directory"\n  echo ""\n  return\nfi\n\nsource $ROOT/input/openrc\n\n# Completed\necho ""\necho "Infrastructure context has been initialised."\necho ""\necho "The available comands are:"\necho "- openstack ..."\ncd bin;\nfor SCRIPT in *.sh;\ndo\n    echo "- $SCRIPT"\ndone\ncd ..\necho ""',tt["infrastructure_authorize.sh"]='#!/usr/bin/env bash\n\nset -e\n\n# determine script path\nSCRIPTPATH="$( cd "$(dirname "$0")/../elements" ; pwd -P )"\n\n# change to root directory\nROOT="$( cd "$(dirname "$0")/.." ; pwd -P )"\ncd $ROOT\n\n# check if the file authorized keys exists\nif [ ! -f input/authorized_keys ]; then\n  echo ""\n  echo "Can not find \'authorized_keys\' in input directory!"\n  echo ""\n  exit 1\nfi\n\n# Deploy keys\necho "================================================================================"\necho "= Deploy keys on each server                                                   ="\necho "================================================================================"\n\nfor SCRIPT in $SCRIPTPATH/servers/*/ssh*;\ndo\n    echo "- $SCRIPT"\n    $SCRIPT -i $ROOT/output/inventory > /dev/null &\ndone\nwait\necho ""\n\necho "Completed"\necho ""',tt["infrastructure_connect.sh"]='#!/usr/bin/env bash\n\nset -e\n\n# determine script path\nSCRIPTPATH="$( cd "$(dirname "$0")/../elements" ; pwd -P )"\n\n# change to root directory\nROOT="$( cd "$(dirname "$0")/.." ; pwd -P )"\ncd $ROOT\n\n# check if the private file exists\nif [ ! -f input/id_rsa ]; then\n  echo ""\n  echo "Can not find \'id_rsa\' in input directory!"\n  echo ""\n  exit 1\nfi\n\n# Check if the config file exists\nif [ ! -f output/config ]; then\n  echo ""\n  echo "Can not find \'config\' in output directory!"\n  echo ""\n  exit 1\nfi\n\n# Check if a server name has been provided\nif [ "$#" -ne 1 ]; then\n    echo ""\n    echo "Usage: infrastructure_connect.sh <server>"\n    echo ""\n    exit\nfi\n\n# Connect\nssh -F output/config $1',tt["infrastructure_create.sh"]='#!/usr/bin/env bash\n\n# determine script path\nSCRIPTPATH="$( cd "$(dirname "$0")/../elements" ; pwd -P )"\n\n# change to root directory\ncd $SCRIPTPATH/..\n\n# Setup networks\necho "================================================================================"\necho "= Setting up the networks                                                      ="\necho "================================================================================"\necho "- /networks/create.yml"\n$SCRIPTPATH/networks/create.yml > /dev/null\necho ""\n\n# Setup security policies\necho "================================================================================"\necho "= Setting up security policies                                                 ="\necho "================================================================================"\n\nfor DIR in $SCRIPTPATH/servers/*/;\ndo\n    echo "- $DIR/define_security.yml"\n    $DIR/define_security.yml > /dev/null &\ndone\nwait\necho ""\n\n# Setup servers\necho "================================================================================"\necho "= Setting up servers                                                           ="\necho "================================================================================"\n\nfor SCRIPT in $SCRIPTPATH/servers/*/create*;\ndo\n    echo "- $SCRIPT"\n    $SCRIPT > /dev/null &\ndone\nwait\necho ""\n\necho "Completed"\necho ""',tt["infrastructure_delete.sh"]='#!/usr/bin/env bash\n\n# determine script path\nSCRIPTPATH="$( cd "$(dirname "$0")/../elements" ; pwd -P )"\n\n# change to root directory\ncd $SCRIPTPATH/..\n\n# Tear down servers\necho "================================================================================"\necho "= Tear down servers                                                            ="\necho "================================================================================"\n\nfor SCRIPT in $SCRIPTPATH/servers/*/delete*;\ndo\n    echo "- $SCRIPT"\n    $SCRIPT > /dev/null &\ndone\nwait\necho ""\n\n# Remove security policies\necho "================================================================================"\necho "= Remove security policies                                                     ="\necho "================================================================================"\n\nfor DIR in $SCRIPTPATH/servers/*/;\ndo\n    echo "- $DIR/undefine_security.yml"\n    $DIR/undefine_security.yml > /dev/null &\ndone\nwait\necho ""\n\n# Tear down networks\necho "================================================================================"\necho "= Tear down networks                                                           ="\necho "================================================================================"\necho "- /networks/delete.yml"\n$SCRIPTPATH/networks/delete.yml > /dev/null\necho ""\n\necho "Completed"\necho ""',tt["infrastructure_status.sh"]='#!/usr/bin/env bash\n\n# determine script path\nSCRIPTPATH="$( cd "$(dirname "$0")/../elements" ; pwd -P )"\n\n# change to root directory\ncd $SCRIPTPATH/..\n\necho "================================================================================"\necho "= Status of networks                                                           ="\necho "================================================================================"\necho ""\n\n$SCRIPTPATH/networks/status.yml > /dev/null\n\necho "================================================================================"\necho "= Status of servers                                                            ="\necho "================================================================================"\necho ""\n\n$SCRIPTPATH/servers/status.yml > /dev/null\n\necho "Completed"\necho ""';var rt=tt,it=t("afe2"),ot=t.n(it),at={Canonical:'---\nschema:     {{schema}}\nvnf:        {{vnf}}\nversion:    {{version}}\ntenant:\n  name:          "{{tenant.name}}"\n  auth:\n    username:    "{{tenant.auth.username}}"\n    password:    "{{tenant.auth.password}}"\n    url:         "{{tenant.auth.url}}"\nflavors:\n{% for flavor in flavors %}\n  - uuid:    "{{flavor.uuid}}"\n    name:    "{{flavor.name}}"\n    vcpu:    {{flavor.vcpu}}\n    ram:     {{flavor.ram}}\n    disk:    {{flavor.disk}}\n    public:  "{{flavor.public}}"\n{% if flavor.special|length == 0 %}\n    special: []\n{% endif -%}\n{% if flavor.special|length >  0 %}\n    special:\n{% endif -%}\n{% for special in flavor.special %}\n      - { key: "{{special.key}}", value: "{{special.value}}" }\n{% endfor %}\n{% endfor %}\nimages:\n{% for image in images -%}\n  - { uuid: "{{image.uuid}}",\n      name: "{{image.name}}",\n      version: "{{image.version}}",\n      format: "{{image.format}}",\n      container: "{{image.container}}",\n      disk: "{{image.disk}}",\n      size: "{{image.size}}",\n      checksum: "{{image.checksum}}",\n      url: "{{image.url}}",\n      special: "{{image.special}}" }\n{% endfor %}\nnetworks:\n{% for network in networks%}\n  - uuid:      "{{network.uuid}}"\n    name:      "{{network.name}}"\n    external:  "{{network.external}}"\n    ipv4:      "{{network.ipv4}}"\n    ipv4gw:    "{{network.ipv4gw}}"\n    ipv4start: "{{network.ipv4start}}"\n    ipv4end:   "{{network.ipv4end}}"\n    ipv6:      "{{network.ipv6}}"\n    ipv6gw:    "{{network.ipv6gw}}"\n    ipv6start: "{{network.ipv6start}}"\n    ipv6end:   "{{network.ipv6end}}"\n    route:     "{{network.route}}"\n    export:    "{{network.export}}"\n    import:    "{{network.import}}"\n    special:   "{{network.special}}"\n{% endfor %}\ncomponents:\n{% for component in components %}\n  - uuid:         "{{component.uuid}}"\n    name:         "{{component.name}}"\n    user:         "{{component.user}}"\n    placement:    "{{component.placement}}"\n    flavor:       "{{component.flavor}}"\n    image:        "{{component.image}}"\n    min:          {{component.min}}\n    size:         {{component.size}}\n    max:          {{component.max}}\n{% if component.volumes|length == 0 %}\n    volumes:      []\n{% endif -%}\n{% if component.volumes|length >  0 %}\n    volumes:\n{% endif -%}\n{% for volume in component.volumes %}\n      - { name: "{{volume.name}}", size: {{volume.size}}, type: "{{volume.type}}", attributes: "{{volume.attributes}}" }\n{% endfor %}\n{% if component.interfaces|length == 0 %}\n    interfaces:   []\n{% endif -%}\n{% if component.interfaces|length >  0 %}\n    interfaces:\n{% endif -%}\n{% for interface in component.interfaces %}\n      - { network: "{{interface.network}}", attributes: "{{interface.attributes}}" }\n{% endfor %}\n{% if component.services|length == 0 %}\n    services:     []\n{% endif -%}\n{% if component.services|length >  0 %}\n    services:\n{% endif -%}\n{% for service in component.services %}\n      - { name: "{{service.name}}", network: "{{service.network}}", protocol: "{{service.protocol}}", range: "{{service.range}}" }\n{% endfor %}\n{% if component.dependencies|length == 0 %}\n    dependencies: []\n{% endif -%}\n{% if component.dependencies|length >  0 %}\n    dependencies:\n{% endif -%}\n{% for dependency in component.dependencies %}\n      - { component: "{{dependency.component}}", service: "{{dependency.service}}", network: "{{dependency.network}}" }\n{% endfor %}\n{% if component.userdata == "" %}\n    userdata:     ""\n{% endif -%}\n{% if component.userdata != "" %}\n    userdata: |\n      {{ component.userdata | indent(6) | safe }}\n{% endif -%}\n\n{% endfor %}\n',"Communication Matrix":"From                |Network |To                  |Service   |Protocol|Port (range)    |Network\n{% for component1 in components %}{% for dependency in component1.dependencies %}\n{% for component2 in components %}{% if component2.name == dependency.component %}\n{% for service in component2.services %}{% if service.name == dependency.service %}\n{{(component1.name    + '                    ') | truncate(20,false,'') }}|{{(dependency.network + '        ') | truncate(8,false,'') }}|{{(component2.name + '                    ') | truncate(20,false,'') }}|{{(service.name + '          ') | truncate(10,false,'') }}|{{(service.protocol + '        ') | truncate(8,false,'')  }}|{{(service.range      + '                ') | truncate(16,false,'') }}|{{(service.network    + '      ') | truncate(6,false,'')  }}\n{% endif %}{% endfor %}\n{% endif %}{% endfor %}\n{% endfor %}{% endfor %}",VNFds:'\n[{% for component in components %}\n{\n  "vnfProductInfoName": "TODO: Training FortiGate VNF",\n  "vnfdId": "{{component.name}}",\n  "exportedModelVersion": "{{component.version}}",\n  "vnfdOperationalState": "ENABLED",\n  "vnfdProductName": "TODO: Training FortiOS VNF",\n  "vnfSoftwareVersion": "TODO: 1.0",\n  "vnfdVersion": "TODO: 1.0",\n  "vnfProvider": "TODO: Fortinet",\n  "vdus": [\n    {\n      "intCpd": [\n        {% for network in networks %}\n        "{{ network.name }}"{{ "," if not loop.last }}\n        {% endfor %}\n      ],\n      "vduId": "{{ component.name }}_base_vdu",\n      "virtualComputeDesc": "{{ component.name }}_base",\n      "name": "{{ component.name }} Base VDU",\n      "swImageDesc": "{{ component.image }}"\n    }\n  ],\n  "virtualComputeDescs": [\n    {\n      "virtualMemory": {\n        "virtualMemSize": 1024\n      },\n      "virtualComputeDescId": "{{ component.name }}_base",\n      "virtualCpu": {\n        "numVirtualCpu": 1\n      }\n    }\n  ],\n  "vduProfiles": [\n    {\n      "minNumberOfInstances": {{component.min}},\n      "vduProfileId": "{{ component.name }}_base_vdu_profile",\n      "maxNumberOfInstances": {{component.max}},\n      "vduId": "{{ component.name }}_base_vdu"\n    }\n  ],\n  "softwareImages": [\n    "fortios_qcow2"\n  ],\n  "instantiationLevels": [\n    {\n      "levelId": "base_level_1",\n      "vduLevel": [\n        {\n          "vduLevelId": "base_vdu_level_1",\n          "numberOfInstances": 1,\n          "vduId": "{{ component.name }}_base_vdu"\n        }\n      ]\n    }\n  ],\n  "vnfExtCpds": [{% for network in networks %}\n    {\n      "intCpd": "{{ network.name }}",\n      "cpd": {\n        "cpdId": "ext_{{ network.name }}"\n      }\n    }{{ "," if not loop.last }}{% endfor %}\n  ],\n  "intCpds": [{% for network in networks %}\n    {\n      "cpd": {\n        "cpdId": "{{ network.name }}"\n      }\n    }{{ "," if not loop.last }}{% endfor %}\n  ],\n  "deploymentFlavors": [\n    {\n      "vduProfile": [\n        "{{ component.name }}_base_vdu_profile"\n      ],\n      "defaultInstantiationLevel": "base_level_1",\n      "vnfLcmOperationsConfiguration": {\n        "scaleVnfOpConfig": {\n          "scalingByMoreThanOneStepSupported": false\n        }\n      },\n      "flavourId": "base",\n      "instantiationLevel": [\n        "base_level_1"\n      ]\n    }\n  ]\n}{{ "," if not loop.last }}\n{% endfor %}\n]\n',NSds:'{\n  "message": "placeholder for NSds generation"\n}'},st=at,lt={fixed_ips_filter:function(e){var n=/fixed:[^;]*/i,t=[],r=e.match(n);if(!r)return t;var i=r[0],o=i.substr(7),a=o.split(","),s=!0,l=!1,c=void 0;try{for(var u,m=a[Symbol.iterator]();!(s=(u=m.next()).done);s=!0){var d=u.value;if(d.indexOf("-")<0)t.push(d);else{var p=!0,v=!1,f=void 0;try{for(var h,w=this.generate_ip_range(d)[Symbol.iterator]();!(p=(h=w.next()).done);p=!0){var g=h.value;t.push(g)}}catch(_){v=!0,f=_}finally{try{p||null==w.return||w.return()}finally{if(v)throw f}}}}}catch(_){l=!0,c=_}finally{try{s||null==m.return||m.return()}finally{if(l)throw c}}return t},allowed_ips_filter:function(e){var n=/allowed:[^;]*/i,t=[],r=e.match(n);if(!r)return t;var i=r[0],o=i.substr(9),a=o.split(","),s=!0,l=!1,c=void 0;try{for(var u,m=a[Symbol.iterator]();!(s=(u=m.next()).done);s=!0){var d=u.value;if(d.indexOf("-")<0)t.push(d);else{var p=!0,v=!1,f=void 0;try{for(var h,w=this.generate_ip_range(d)[Symbol.iterator]();!(p=(h=w.next()).done);p=!0){var g=h.value;t.push(g)}}catch(_){v=!0,f=_}finally{try{p||null==w.return||w.return()}finally{if(v)throw f}}}}}catch(_){l=!0,c=_}finally{try{s||null==m.return||m.return()}finally{if(l)throw c}}return t},port_min_filter:function(e){var n=e.split("-");return 2==n.length?n[0]:e},port_max_filter:function(e){var n=e.split("-");return 2==n.length?n[1]:e},generate_ip_range:function(e){for(var n=[],t=e.lastIndexOf("."),r=e.substr(0,t),i=e.substr(t+1),o=i.split("-"),a=parseInt(o[0],10),s=parseInt(o[1],10),l=a;l<=s;l++)n.push(r+"."+l);return n},emptyModel:function(){return{vnf:"",version:"",tenant:{name:"",auth:{username:"",password:"",url:""}},flavors:[],images:[],networks:[],components:[]}},render:function(e,n){var t=st[n],r=ot.a.configure({trimBlocks:!0});return r.addFilter("fixed",this.fixed_ips_filter),r.addFilter("allowed",this.allowed_ips_filter),r.addFilter("portmin",this.port_min_filter),r.addFilter("portmax",this.port_max_filter),ot.a.renderString(t,e)},splitter:function(e){var n={},t="",r=e.split("\n"),i="",o=!0,a=!1,s=void 0;try{for(var l,c=r[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var u=l.value,m=u.match("----- .* -----");m&&m[0]==u?(""!=i&&""!=t&&(n[i]=t),m=m[0],i=m.substring(6,m.length-6),t=""):""!=t?t+="\n"+u:t=u}}catch(d){a=!0,s=d}finally{try{o||null==c.return||c.return()}finally{if(a)throw s}}return""!=i&&""!=t&&(n[i]=t),n}},ct=lt,ut={name:"exportform",props:["model","view","templates"],methods:{copyToClipboard:function(){document.getElementById("export").focus(),document.getElementById("export").select(),document.execCommand("Copy")},download:function(){var e=document.getElementById("export").value,n=document.createElement("a"),t="Canonical"==this.view.export?this.model.current.vnf+"-V"+this.model.current.version+".yml":"descriptor.txt";n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),n.setAttribute("download",t),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)},downloadArchive:function(){var e=t("7c39"),n=new e,r=n.folder("input"),i=n.folder("output"),o=n.folder("elements"),a=n.folder("docs"),s=n.folder("bin"),l=o.folder("networks"),c=o.folder("servers"),u=o.folder("router"),m=o.folder("templates"),d=ct.render(this.model,"readme");a.file("README.md",d);var p=t("651e");d=p.safeDump(this.model),a.file("model.yml",d),d=ct.render(this.model,"Communication Matrix"),a.file("communication_matrix.txt",d),d=ct.render(this.model,"Environment"),r.file("environment.yml",d),d=ct.render(this.model,"openrc"),r.file("openrc",d),d=ct.render(this.model,"Prequisites"),a.file("prequisites.txt",d),n.file("setup.sh",rt["setup"]),s.file("infrastructure_create.sh",rt["infrastructure_create.sh"]),s.file("infrastructure_delete.sh",rt["infrastructure_delete.sh"]),s.file("infrastructure_status.sh",rt["infrastructure_status.sh"]),s.file("infrastructure_authorize.sh",rt["infrastructure_authorize.sh"]),s.file("infrastructure_connect.sh",rt["infrastructure_connect.sh"]);var v={},f={},h=!0,w=!1,g=void 0;try{for(var _,k=this.model.current.components[Symbol.iterator]();!(h=(_=k.next()).done);h=!0){var b=_.value;"OTHER"!=b.placement&&"ROUTER"!=b.placement&&(v[this.model.current.tenant.prefix+b.name]=c.folder(this.model.current.tenant.prefix+b.name)),"ROUTER"==b.placement&&(f[this.model.current.tenant.prefix+b.name]=u.folder(this.model.current.tenant.prefix+b.name))}}catch(I){w=!0,g=I}finally{try{h||null==k.return||k.return()}finally{if(w)throw g}}d=ct.render(this.model,"Networks (create)"),l.file("create.yml",d,{unixPermissions:"755"}),d=ct.render(this.model,"Networks (delete)"),l.file("delete.yml",d,{unixPermissions:"755"}),d=ct.render(this.model,"Networks (status)"),l.file("status.yml",d,{unixPermissions:"755"}),d=ct.render(this.model,"Servers (status)"),c.file("status.yml",d,{unixPermissions:"755"}),d=ct.render(this.model,"Servers (define security)");var y=ct.splitter(d);for(var x in y){var C=v[x],T=y[x];C.file("define_security.yml",T,{unixPermissions:"755"})}for(x in d=ct.render(this.model,"Servers (undefine security)"),y=ct.splitter(d),y)C=v[x],T=y[x],C.file("undefine_security.yml",T,{unixPermissions:"755"});for(x in d=ct.render(this.model,"Servers (create)"),y=ct.splitter(d),y){var O=x.split("-")[0],P=x.split("-")[1]?"-"+x.split("-")[1]:"";C=v[O],T=y[x],C.file("create"+P+".yml",T,{unixPermissions:"755"})}for(x in d=ct.render(this.model,"Servers (delete)"),y=ct.splitter(d),y)O=x.split("-")[0],P=x.split("-")[1]?"-"+x.split("-")[1]:"",C=v[O],T=y[x],C.file("delete"+P+".yml",T,{unixPermissions:"755"});for(x in d=ct.render(this.model,"Servers (ssh)"),y=ct.splitter(d),y)O=x.split("-")[0],P=x.split("-")[1]?"-"+x.split("-")[1]:"",C=v[O],T=y[x],C.file("ssh"+P+".yml",T,{unixPermissions:"755"});for(var $ in r.file("ansible.cfg",rt["ansible.cfg"]),m.file("networks.tmpl",rt["networks.tmpl"]),m.file("servers.tmpl",rt["servers.tmpl"]),m.file("config",rt["config"]),m.file("inventory",rt["inventory"]),i.file("inventory",rt["default_inventory"]),d=ct.render(this.model,"config"),m.file("config",d,{unixPermissions:"644"}),d=ct.render(this.model,"Router (create)"),y=ct.splitter(d),y)C=f[$],T=y[$],C.file("create.yml",T,{unixPermissions:"755"});for($ in d=ct.render(this.model,"Router (delete)"),y=ct.splitter(d),y)C=f[$],T=y[$],C.file("delete.yml",T,{unixPermissions:"755"});n.generateAsync({type:"blob"}).then((function(e){var n=document.createElement("a");n.setAttribute("href",URL.createObjectURL(e)),n.setAttribute("download",this.model.current.vnf+"-V"+this.model.current.version+".zip"),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}))}},computed:{formats:function(){return Object.keys(this.templates)},result:function(){var e=t("afe2"),n=this.view.export,r=this.templates[n],i=e.configure({trimBlocks:!0});i.addFilter("fixed",ct.fixed_ips_filter),i.addFilter("allowed",ct.allowed_ips_filter),i.addFilter("portmin",ct.port_min_filter),i.addFilter("portmax",ct.port_max_filter);var o=e.renderString(r,this.model);return o}}},mt=ut,dt=Object(l["a"])(mt,et,nt,!1,null,null,null),pt=dt.exports,vt=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"importform"}},[t("div",{staticClass:"header"},[e._v("\n    Import:\n    "),t("div",{staticClass:"button",on:{click:e.import_model}},[t("i",{staticClass:"fas fa-redo-alt"}),e._v(" Impoort\n    ")]),t("div",{staticClass:"button",on:{click:e.load_model}},[t("input",{attrs:{type:"file",id:"files",name:"files"},on:{change:e.load_model2}}),t("i",{staticClass:"fas fa-upload"}),e._v(" Load\n    ")])]),e._m(0)])},ft=[function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"line"},[t("textarea",{attrs:{id:"import",name:"import"}})])}],ht={name:"importform",props:["model","view","templates"],methods:{load_model:function(){document.getElementById("files").click()},load_model2:function(e){for(var n,t=e.target.files,r=0;n=t[r];r++){var i=new FileReader;i.onload=function(e){return function(e){document.getElementById("import").value=e.target.result}}(),i.readAsText(n);break}},import_model:function(){var e=document.getElementById("import").value,n=null,t="";try{n=jsyaml.safeLoad(e)}catch(r){return void(view.modal="Yaml Error:\n"+r.message)}return t=validate_schema(n),""!=t?(view.modal=t,void setContext("Import")):(t=validate_xref(n),""!=t?(view.modal=t,void setContext("Import")):("current"==this.view.mode?current=n:target=n,setModel(n),void setContext("Tenant")))}}},wt=ht,gt=Object(l["a"])(wt,vt,ft,!1,null,null,null),_t=gt.exports,kt={name:"appdetail",props:["model","current","target","view","templates"],components:{flavorform:Hn,imageform:Mn,networkform:Xn,componentform:Zn,tenant:In,exportform:pt,importform:_t}},bt=kt,yt=Object(l["a"])(bt,Ne,Re,!1,null,null,null),xt=yt.exports,Ct=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"modal"}},[t("div",{staticClass:"content"},[t("span",{staticClass:"close",on:{click:e.close}},[e._v("×")]),t("span",{domProps:{innerHTML:e._s(e.html)}})])])},Tt=[],Ot={name:"modal",props:["view"],computed:{html:function(){for(var e=this.view.modal.split("\n"),n="<h2>"+e[0]+"</h2>",t="",r=1;r<e.length;r++){var i=e[r],o=i.indexOf(":");if(o<0)t=t+i+"<br/>";else{var a=i.substr(0,o),s=i.substr(o+1);t=t+"<b>"+a+":</b> "+s+"<br/>"}i.split(":",1)}return n+t}},methods:{close:function(){if(this.view.modal="",this.view.field){var e=document.getElementById(this.view.field);e&&e.focus()}}}},Pt=Ot,$t=Object(l["a"])(Pt,Ct,Tt,!1,null,null,null),It=$t.exports,Nt=t("651e"),Rt='\n---\nschema:     1.0.1\nvnf:        demo\nversion:    1.0.0\ntenant:\n  name:          "demo"\n  auth:\n    username:    "admin"\n    password:    "adminpw"\n    url:         "https://10.10.10.10"\nflavors:\n  - uuid:    "08e88f71-8916-428e-ae2e-e37b50619405"\n    name:    "none"\n    vcpu:    0\n    ram:     0\n    disk:    0\n    public:  "false"\n    special: []\n  - uuid:    "b18f5596-e88b-4e0c-a2b3-da97fae62e85"\n    name:    "standard"\n    vcpu:    2\n    ram:     8\n    disk:    10\n    public:  "false"\n    special: []\nimages:\n- { uuid: "55b1f2fc-caab-4bea-8f4b-5b7c46d7abb6", name: "none", version: "", format: "qcow2", container: "bare", disk: "0", size: "0", checksum: "", url: "", special: "" }\n- { uuid: "3543f742-81b7-4dd3-86d9-ea52b134dbb1", name: "CentOS 7", version: "7.5", format: "qcow2", container: "bare", disk: "0", size: "0", checksum: "b376afdc0150601f15e53516327d9832216e01a300fecfc302066e36e2ac2b39", url: "https://cloud.centos.org/centos/7/images/CentOS-7-x86_64-GenericCloud-1905.qcow2", special: "" }\nnetworks:\n  - uuid:      "726dc281-2eb5-469e-857d-4af9336ff02a"\n    name:      "pub"\n    external:  "true"\n    ipv4:      "0.0.0.0/0"\n    ipv4gw:    ""\n    ipv4start: ""\n    ipv4end:   ""\n    ipv6:      ""\n    ipv6gw:    ""\n    ipv6start: ""\n    ipv6end:   ""\n    route:     ""\n    export:    ""\n    import:    ""\n    special:   ""\n  - uuid:      "221d325b-35a5-4eca-8a3f-ea5ade11f6fe"\n    name:      "ext"\n    external:  ""\n    ipv4:      "10.0.1.0/0"\n    ipv4gw:    "10.0.1.1"\n    ipv4start: "10.0.1.100"\n    ipv4end:   "10.0.1.199"\n    ipv6:      ""\n    ipv6gw:    ""\n    ipv6start: ""\n    ipv6end:   ""\n    route:     ""\n    export:    ""\n    import:    ""\n    special:   ""\n  - uuid:      "540146df-32f7-4aae-b65b-a4523c9c328d"\n    name:      "int"\n    external:  ""\n    ipv4:      "10.0.0.2/24"\n    ipv4gw:    "10.0.0.1"\n    ipv4start: "10.0.0.100"\n    ipv4end:   "10.0.0.199"\n    ipv6:      ""\n    ipv6gw:    ""\n    ipv6start: ""\n    ipv6end:   ""\n    route:     ""\n    export:    ""\n    import:    ""\n    special:   ""\n  - uuid:      "20cefffb-6ec5-4161-8562-612a4651e436"\n    name:      "oam"\n    external:  "false"\n    ipv4:      "10.0.0.0/24"\n    ipv4gw:    "10.0.0.1"\n    ipv4start: "10.0.0.100"\n    ipv4end:   "10.0.0.199"\n    ipv6:      ""\n    ipv6gw:    ""\n    ipv6start: ""\n    ipv6end:   ""\n    route:     ""\n    export:    ""\n    import:    ""\n    special:   ""\ncomponents:\n\n  - uuid:         "9572cd15-0c75-43f2-ad28-7031f172132f"\n    name:         "firewall"\n    user:         "root"\n    placement:    "EXT"\n    flavor:       "standard"\n    image:        "CentOS 7"\n    min:          1\n    size:         1\n    max:          1\n    volumes:      []\n    interfaces:\n      - { network: "pub", attributes: "" }\n      - { network: "oam", attributes: "" }\n      - { network: "ext", attributes: "" }\n    services:\n      - { name: "ssh", network: "pub", protocol: "tcp", range: "22" }\n      - { name: "https", network: "pub", protocol: "tcp", range: "443" }\n    dependencies:\n      - { component: "sd-wan", service: "https", network: "ext" }\n    userdata:     ""\n\n  - uuid:         "4972819c-7c64-4e26-a0a0-41d86d798773"\n    name:         "sd-wan"\n    user:         "root"\n    placement:    "EXT"\n    flavor:       "none"\n    image:        "none"\n    min:          1\n    size:         3\n    max:          3\n    volumes:      []\n    interfaces:\n      - { network: "oam", attributes: "" }\n      - { network: "ext", attributes: "" }\n      - { network: "int", attributes: "" }\n    services:\n      - { name: "ssh", network: "oam", protocol: "tcp", range: "22" }\n      - { name: "https", network: "ext", protocol: "tcp", range: "443" }\n    dependencies: []\n    userdata:     ""\n\n  - uuid:         "871076e7-40d9-4a24-b35f-f14adac5a67c"\n    name:         "database"\n    user:         "root"\n    placement:    "INT"\n    flavor:       "none"\n    image:        "none"\n    min:          1\n    size:         3\n    max:          3\n    volumes:\n      - { name: "data", size: 100, type: "INT", attributes: "" }\n    interfaces:\n      - { network: "oam", attributes: "" }\n      - { network: "int", attributes: "" }\n    services:\n      - { name: "ssh", network: "oam", protocol: "tcp", range: "22" }\n      - { name: "mysql", network: "int", protocol: "tcp", range: "3306" }\n      - { name: "replication", network: "int", protocol: "tcp", range: "33061" }\n    dependencies:\n      - { component: "database", service: "replication", network: "int" }\n    userdata:     ""\n',Et=Rt,St={current:Object(Nt["safeLoad"])(Et),setModel:function(e){St.schema="1.0.1",St.vnf=e.vnf,St.version=e.version,St.tenant=e.tenant,St.flavors=e.flavors,St.images=e.images,St.networks=e.networks,St.components=e.components},uuidv4:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var n=16*Math.random()|0,t="x"==e?n:3&n|8;return t.toString(16)}))},addFlavor:function(){var e=this.uuidv4(),n=St.flavors.length+1;St.flavors.push({uuid:e,name:"flavor-"+n,public:"false",special:[]})},deleteFlavor:function(e){var n=St.current.flavors.indexOf(e);n>-1&&St.current.flavors.splice(n,1)},addFlavorAttribute:function(e){var n=e.special.length+1;e.special.push({key:"attr"+n,value:""})},delFlavorAttribute:function(e,n){var t=e.special.indexOf(n);t>-1&&e.special.splice(t,1)},addImage:function(){var e=this.uuidv4(),n=St.images.length+1;St.images.push({uuid:e,name:"image-"+n,version:"",format:"qcow2",container:"bare",disk:"0",size:"0",special:"",url:""})},deleteImage:function(e){var n=St.current.images.indexOf(e);n>-1&&St.current.images.splice(n,1)},addNetwork:function(){var e=this.uuidv4(),n=St.current.networks.length+1;St.current.networks.push({uuid:e,name:"net-"+n,ipv4:"",ipv4gw:"",ipv4start:"",ipv4end:"",ipv6:"",ipv6gw:"",ipv6start:"",ipv6end:"",route:"",import:"",export:"",special:""})},deleteNetwork:function(e){var n=St.current.networks.indexOf(e);n>-1&&St.current.networks.splice(n,1)},hasComponent:function(e){var n=!0,t=!1,r=void 0;try{for(var i,o=St.components[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var a=i.value;if(a.name===e)return a}}catch(s){t=!0,r=s}finally{try{n||null==o.return||o.return()}finally{if(t)throw r}}return null},addComponent:function(){var e=this.uuidv4(),n=St.current.components.length+1;St.current.components.push({uuid:e,name:"comp-"+n,placement:"MGMT",flavor:"none",image:"none",min:1,max:1,size:1,volumes:[],interfaces:[],services:[],dependencies:[],userdata:[]})},deleteComponent:function(e){var n=St.current.components.indexOf(e);n>-1&&St.current.components.splice(n,1)},addComponentVolume:function(e){var n=e.volumes.length+1;e.volumes.push({name:"volume-"+n,size:100,type:e.placement.toUpperCase(),attributes:""})},delComponentVolume:function(e,n){var t=e.volumes.indexOf(n);t>-1&&e.volumes.splice(t,1)},addComponentInterface:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";""!==n||e.interfaces.length,e.interfaces.push({network:n,ipv4:"",ipv6:"",attributes:""})},delComponentInterface:function(e,n){var t=e.interfaces.indexOf(n);t>-1&&e.interfaces.splice(t,1)},hasComponentInterface:function(e,n){var t=!0,r=!1,i=void 0;try{for(var o,a=e.interfaces[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var s=o.value;if(s.network===n)return s}}catch(l){r=!0,i=l}finally{try{t||null==a.return||a.return()}finally{if(r)throw i}}return null},addComponentService:function(e){var n=e.services.length+1;e.services.push({name:"svc-"+n,network:"",protocol:"tcp",range:"0-65535"})},delComponentService:function(e,n){var t=e.services.indexOf(n);t>-1&&e.services.splice(t,1)},addComponentDependency:function(e){var n=e.dependencies.length+1;e.dependencies.push({component:"dep-"+n,service:"",network:""})},delComponentDependency:function(e,n){var t=e.dependencies.indexOf(n);t>-1&&e.dependencies.splice(t,1)},addUserdata:function(e){e.userdata.push("")},delUserdata:function(e,n){var t=e.userdata.indexOf(n);t>-1&&e.userdata.splice(t,1)}},Ft=St,Ht={navigation:"Tenant",detail:"Tenant",entity:null,field:null,export:"Canonical",modal:"",now:"",mode:"current",tick:function(){var e=new Date;Ht.now=e.getFullYear()+"-"+("0"+e.getMonth()).substr(-2)+"-"+("0"+e.getDate()).substr(-2)+" "+("0"+e.getHours()).substr(-2)+":"+("0"+e.getMinutes()).substr(-2)+":"+("0"+e.getSeconds()).substr(-2)},setContext:function(e){if("Docs"!==e){if("Import"===e)return Ht.navigation="Tenant",void(Ht.detail="Import");if("Export"===e)return Ht.navigation="Tenant",void(Ht.detail="Export");if("Tenant"===e)return Ht.navigation="Tenant",void(Ht.detail="Tenant");Ht.navigation=e,Ht.detail!==Ht.navigation&&(Ht.detail="Tenant")}},setFocus:function(e){var n={flavors:"Flavor",images:"Image",networks:"Network",components:"Component"},t=e.split(".");t.length;if(console.log(e),2===t.length)return Ht.navigation="Tenant",Ht.detail="Tenant",void(Ht.field=t[1]);if("tenant"===t[1])return Ht.navigation="Tenant",Ht.detail="Tenant",void(3===t.length?Ht.field=t[1]+"_"+t[2]:Ht.field=t[1]+"_"+t[2]+"_"+t[3]);if(3===t.length){var r=t[1].indexOf("["),i=t[1].substr(0,r),o=Number(t[1].substr(r+1).replace("]","")),a=t[2];return Ht.navigation=n[i],Ht.detail=n[i],Ht.entity=model[i][o],void(Ht.field=a)}if(4===t.length){r=t[1].indexOf("["),i=t[1].substr(0,r),o=Number(t[1].substr(r+1).replace("]",""));var s=t[2].indexOf("["),l=t[2].substr(0,s),c=Number(t[2].substr(s+1).replace("]",""));a=l+"_"+String(c)+"_"+t[3];return Ht.navigation=n[i],Ht.detail=n[i],Ht.entity=model[i][o],void(Ht.field=a)}console.log(t)}},At=Ht,Dt={name:"app",data:function(){return{model:Ft,view:At,misc:ct,templates:st,current:Ft}},components:{appdetail:xt,appheader:x,appnavigation:Ie,modal:It},created:function(){setInterval((function(){var e=new Date;At.now=e.getFullYear()+"-"+("0"+e.getMonth()).substr(-2)+"-"+("0"+e.getDate()).substr(-2)+" "+("0"+e.getHours()).substr(-2)+":"+("0"+e.getMinutes()).substr(-2)+":"+("0"+e.getSeconds()).substr(-2)}),1e3)}},zt=Dt,qt=(t("7204"),Object(l["a"])(zt,d,p,!1,null,null,null)),Ut=qt.exports;r["a"].use(m["a"]);var Mt=new m["a"]({mode:"history",base:"/vnf-designer/",routes:[{path:"/",component:Ut},{path:"/docs/index.html"}]}),jt=Mt,Vt=t("2f62"),Gt={APP_NAME:"NFV Builder"},Lt={appName:Gt.APP_NAME},Bt={appName:function(e){return e.appName}},Xt={},Yt={},Wt={state:Lt,getters:Bt,actions:Xt,mutations:Yt};r["a"].use(Vt["a"]);var Jt=!1,Kt=new Vt["a"].Store({modules:{settings:Wt},strict:Jt}),Qt=t("1d78"),Zt=t.n(Qt),er=t("8323"),nr=t.n(er),tr=t("263c"),rr=t.n(tr),ir=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("button",e._g({staticClass:"uk-button uk-button-secondary"},e.$listeners),[e.loading?t("span",{attrs:{"uk-spinner":"ratio: 0.7"}}):t("span",[e._t("default")],2)])},or=[],ar={data:function(){return{loading:!1}},methods:{startLoading:function(){this.loading=!0},stopLoading:function(){this.loading=!1}}},sr=ar,lr=Object(l["a"])(sr,ir,or,!1,null,null,null),cr=lr.exports,ur=t("a7c6"),mr=t.n(ur);t("acc7");r["a"].use(mr.a),nr.a.use(rr.a),r["a"].prototype.window=window,window.UIkit=nr.a,window._=t("2ef0"),t("b20f"),t("d48c"),r["a"].config.productionTip=!1,window.Event=new r["a"],r["a"].use(Zt.a,{}),r["a"].component("button-spinner",cr),new r["a"]({router:jt,store:Kt,mixins:[mr.a.mixin],render:function(e){return e(u)}}).$mount("#app")},7204:function(e,n,t){"use strict";var r=t("8594"),i=t.n(r);i.a},8594:function(e,n,t){},acc7:function(e,n,t){},b20f:function(e,n,t){}});
//# sourceMappingURL=app.7f3433ad.js.map